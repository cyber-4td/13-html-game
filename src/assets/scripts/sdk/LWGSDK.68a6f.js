var _typeof2=this&&this._typeof2||function(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)};!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?exports.SDK=e():t.SDK=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==_typeof2(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=function(){function t(){this.showConsole=!1}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),t.promisify=function(t){return function(e){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];return new Promise(function(s,a){var o={success:s,fail:a};t.apply(void 0,[i({},e,o)].concat(n))})}},t.saveStorage=function(t,e){if(!s.default.instance.Y_A||""===t)return!1;var n=!1;try{wx.setStorageSync(t,e),n=!0}catch(t){console.error(t)}return n},t.removeStorage=function(t){if(!s.default.instance.Y_A||""===t)return!1;var e=!1;try{wx.removeStorageSync(t),e=!0}catch(t){console.error(t)}return e},t.getStorage=function(t){if(s.default.instance.Y_A&&""!==t)return wx.getStorageSync(t)},t.showToast=function(t,e,n){void 0===e&&(e=4500),void 0===n&&(n=!1),s.default.instance.Y_A&&t&&(t.replace("\n","\r\n"),wx.showToast({title:t,icon:"none",duration:e,mask:n}))},t.consoleData=function(e,n,i){if(void 0===n&&(n=""),void 0===i&&(i=null),t.instance.showConsole){var s=new Date;null===i?console.log(s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+":"+s.getMilliseconds()+" [GSDK]"+e+" "+n):console.warn(s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+":"+s.getMilliseconds()+" [GSDK]"+e+" "+n+"\uff1a"+i)}},t}();e.default=a},function(t,e,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=n(4),c=n(7),u=n(0),l=n(10),_=n(2),f=n(11),d=n(5),h=n(9),p=n(12),g=n(8),y=n(6),m=function(){function t(){this.Y_N=!1,this.B_N=!1,this.V_S=!1,this.M_P=18e5,this.X_M=!0,this.G_I={},this.G_D={},this.R_O={},this.U_B={},this.G_O=0,this.F_U=0,this.S_H=[],this.G_V=[],this.N_F=[],this.O_T=[],this.B_I=null,this.U_H=null,this.P_H=null,this.Q_S=null,this.R_S=null,this.F_W=null,this.L_G=null,this.A_A=null,this.X_R=null,this.Y_P=!0,this._invalidSessionReloginTimes=0,this.N_V=["z","a","q","w","s","x","c","d","e","r","f","v","b","g","t","y","h","n","m","j","u","i","k","l","o","p"]}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),t.prototype.J_N=function(t,e){!this.B_U.N_P&&this.F_T&&this.F_T(t,e)},Object.defineProperty(t.prototype,"targetAppInfo",{get:function(){return this.U_B},enumerable:!0,configurable:!0}),t.prototype.M_I=function(e){return s(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t.instance.B_U=o.default.instance,this.J_N(1,21),[4,t.instance.B_U.F_O(e)];case 1:return n.sent(),this.J_N(2,21),t.instance.K_Z=r.default.instance,this.K_Z.init(),this.J_N(3,21),this.W_E(),this.Q_F(),[2,this.B_U.U_A];case 2:return n.sent(),this.J_N(0,21),[3,3];case 3:return[2]}})})},t.prototype.Q_F=function(){var t=this;console.log("GameUtils.getStorage('isFirstLoad'):"+_typeof2(u.default.getStorage("isFirstLoad"))),wx.onHide(function(){if(null!=d.default.Q_Q){if(!t.K_Z.D_Q)return;var e=!0;"boolean"!=typeof u.default.getStorage("isFirstLoad")||u.default.getStorage("isFirstLoad")||(e=u.default.getStorage("isFirstLoad")),d.default.L_O({isFirstLoad:e,result:4,success:function(){},fail:function(){}})}})},t.prototype.W_E=function(){var e=t.instance.K_Z.O_P();e=h.md5(e),this.T_W=e},t.prototype.C_P=function(){return this.G_I&&this.G_I.token},t.prototype.H_F=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this.C_P()?this.Q_G(200):this.D_C(),[2]})})},t.prototype.N_N=function(){return this.C_P()?"success":this.B_N||this.V_S||this.Y_N?"logining":"fail"},t.prototype.I_B=function(){var t=this;this.V_S||(this.V_S=!0,this.J_N(8,21),wx.getStorage({key:"user",success:function(e){return s(t,void 0,void 0,function(){return a(this,function(){return this.J_N(9,21),this.G_I=i({},this.G_I,e.data,{conf:this.G_D},{archive:this.R_O}),this.V_S=!1,this.G_I.session?(this.M_E=this.G_I.last_auth_time,this.B_U.setHttpSession(this.G_I.session),r.default.instance.D_Q=this.G_I.token,r.default.instance.C_U=!1,c.default.instance.F_G=this.G_I.share_strategy,this.S_F(),this.J_N(12,21),this.H_F(),this.K_C(!0)):this.D_C(),[2]})})},fail:function(){t.V_S=!1,t.D_C()}}))},t.prototype.D_C=function(){var t=this;this.Y_N||(this.X_R=null,this.A_A=null,this.L_G=null,this.Y_N=!0,this.J_N(8,21),this.Q_S=Date.now()/1e3,wx.login({success:function(e){return s(t,void 0,void 0,function(){var t,n,s,l,f,d,h,p,y,m,v,b,S,w,C,T,O;return a(this,function(a){switch(a.label){case 0:this.J_N(9,21),this.B_I=Date.now()/1e3,a.label=1;case 1:return a.trys.push([1,3,,4]),this.J_N(10,21),[4,this.K_Z.R_U({code:e.code})];case 2:t=a.sent(),this.J_N(11,21),this.B_U.setHttpSession(t.session),_.default.instance.L_S=t.gid,O=Date.now()/1e3,this.R_S=O-this.Q_S,this.F_W=0,t.register?(this.U_H=O-this.B_I,this.P_H=0):(this.B_I=null,this.U_H=null,this.P_H=null),this.G_D=t.conf,this.R_O=t.asset,this.U_B=this.G_D.target_app_info,this.X_P=t.skip_ad,this.O_R=t.labels;try{if(n=t.conf&&t.conf.abtest_groups?t.conf.abtest_groups:{},u.default.consoleData("abtestGroups:",JSON.stringify(n)),n){for(s=n.previous_groups,l=n.new_groups,u.default.consoleData("previousGroups:",JSON.stringify(s)),u.default.consoleData("newGroups:",JSON.stringify(l)),f=s?l?s.concat(l):s:l,d={},h=0;h<f.length;h++)p=f[h].full_key,y=f[h].value,(m=p.split(":"))[0]&&m[1]&&(v=m[0]+":"+m[1],d[v]=y);this.S_Y=d,u.default.consoleData("abTestObj:",JSON.stringify(this.S_Y))}}catch(a){u.default.consoleData("\u83b7\u53d6 abTestObj \u5931\u8d25")}return b=i({},t,{session:t.session,conf:this.G_D,code:e.code}),S={token:t.token,session:t.session,code:e.code},u.default.saveStorage("user",S),this.G_I=b,this.M_E=this.G_I.last_auth_time,this.Y_N=!1,r.default.instance.D_Q=this.G_I.token,r.default.instance.C_U=!1,c.default.instance.F_G=this.G_I.share_strategy,this.S_F(),this.J_N(12,21),this.H_F(),this.K_C(!0),w=o.default.instance.U_A.query,console.log(w),t.inviter_openid&&""!=t.inviter_openid&&(w.shareValue?g.default.Z_K({operation:6,inviteUser:t.inviter_openid,adunit:w.adId,sceneID:"shareFromAnthoer",shareValue:1,rewardValue:0}):g.default.Z_K({operation:6,inviteUser:t.inviter_openid,adunit:w.adId,sceneID:"shareFromAnthoer",shareValue:0,rewardValue:0})),[3,4];case 3:return C=a.sent(),this.Y_N=!1,T=C&&C.c?C.c:-2e4,console.error("catch e",C),O=Date.now()/1e3,this.R_S=O-this.Q_S,this.F_W=T,this.B_I=null,this.U_H=null,this.P_H=null,1<this.G_O?this.Q_G(T,"login_v4"):this.D_C(),this.G_O++,[3,4];case 4:return[2]}})})},fail:function(e){t.Y_N=!1;var n=Date.now()/1e3;t.R_S=n-t.Q_S,t.F_W=e&&e.code?parseInt("100"+e.code):10012001,t.B_I=null,t.U_H=null,t.P_H=null,1<t.G_O?t.Q_G(12001,"wx.login"):t.D_C(),t.G_O++}}))},t.prototype.K_C=function(t,e){var n=this;void 0===t&&(t=!1),void 0===e&&(e=this.B_U.U_A);var i={scene:e.scene?e.scene:1001,query:e.query,referrer_info:e.referrerInfo};this.B_U.setHttpHeaderScene(e.scene),e.shareTicket&&""!==e.shareTicket?wx.getShareInfo({shareTicket:e.shareTicket,success:function(e){i.st_iv=e.iv,i.st_encrypted_data=e.encryptedData,n.R_G(i,t)},fail:function(){n.R_G(i,t)}}):this.R_G(i,t)},t.prototype.R_G=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.K_Z.K_C(t)];case 1:return e=n.sent(),c.default.instance.Q_C(t,e),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}})})},t.prototype.S_F=function(){_.default.instance.Z_D(this.G_D),l.default.instance.V_F()},t.prototype.Q_A=function(t){return s(this,void 0,void 0,function(){var e,n,i,s,o,c,l,f,d,h,p,g,y,m=this;return a(this,function(a){switch(a.label){case 0:if(!this.B_U.Y_A)return t(null),[2];if(this.B_N)return[2];this.J_N(4,21),setTimeout(function(){m.C_P()||m.Y_P&&wx.showLoading({title:"\u767b\u5f55\u4e2d",mask:!m.B_U.C_X})},1e3),this.G_I={},this.B_N=!0,this.I_I=t,this.L_G=Date.now()/1e3,a.label=1;case 1:return a.trys.push([1,5,,6]),(e=u.default.getStorage("user")).token&&e.session?(r.default.instance.D_Q=e.token,this.B_U.setHttpSession(e.session),this.J_N(5,21),[4,this.K_Z.R_Z()]):[3,3];case 2:if(n=a.sent(),this.J_N(6,21),r.default.instance.C_U=!0,this.X_J(n.ttl),this.J_N(7,21),this.B_N=!1,i=Date.now()/1e3,this.A_A=i-this.L_G,this.X_R=0,n.ttl){_.default.instance.L_S=n.gid,this.G_D=n.conf,this.R_O=n.asset,this.U_B=this.G_D.target_app_info,this.X_P=n.skip_ad,this.O_R=n.labels,this.G_I=n;try{if(s=n.conf&&n.conf.abtest_groups?n.conf.abtest_groups:{},u.default.consoleData("abtestGroups:",JSON.stringify(s)),s){for(o=s.previous_groups,c=s.new_groups,u.default.consoleData("previousGroups:",JSON.stringify(o)),u.default.consoleData("newGroups:",JSON.stringify(c)),l=o?c?o.concat(c):o:c,f={},d=0;d<l.length;d++)h=l[d].full_key,p=l[d].value,(g=h.split(":"))[0]&&g[1]&&(y=g[0]+":"+g[1],f[y]=p);this.S_Y=f,u.default.consoleData("abTestObj:",JSON.stringify(this.S_Y))}}catch(a){u.default.consoleData("\u83b7\u53d6 abTestObj \u5931\u8d25")}this.I_B()}else this.D_C();return[3,4];case 3:this.B_N=!1,this.D_C(),a.label=4;case 4:return[3,6];case 5:return a.sent(),this.B_N=!1,this.D_C(),[3,6];case 6:return[2]}})})},t.prototype.X_J=function(t){var e=this;t&&wx.checkSession({success:function(){},fail:function(){e.E_T()}})},t.prototype.E_T=function(){var t=this;wx.login({success:function(e){return s(t,void 0,void 0,function(){var t,n;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.K_Z.J_U({code:e.code})];case 1:return t=i.sent(),(n=u.default.getStorage("user")).token&&(n.token=t.token,u.default.saveStorage("user",n)),r.default.instance.D_Q=t.token,r.default.instance.C_U=!1,this.G_I.token=t.token,[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}})})},fail:function(){t._invalidSessionReloginTimes<2&&t.E_T(),t._invalidSessionReloginTimes++}})},t.prototype.H_Z=function(){var t=wx.getUpdateManager();t.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(e){e.confirm&&t.applyUpdate()}})}),t.onUpdateFailed(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25",showCancel:!1})})},t.prototype.S_Z=function(){var t=this;wx.onShow(function(e){t.F_U=(new Date).getTime()/1e3>>0,t.B_U.U_A=e,t.H_Z(),t.K_C(),c.default.instance.M_U();var n=u.default.getStorage("ticketInfo");if(n&&n.tid&&n.timeStamp){var i=((new Date).getTime()-n.timeStamp)/1e3;t.K_Z.B_R({tid:n.tid,stay_time:i,success:function(){u.default.removeStorage("ticketInfo")},fail:function(){}})}p.default.Z_R&&p.default.F_K();var s=(new Date).getTime()/1e3;0<f.default.instance.V_Z&&(f.default.instance.E_X+=s-f.default.instance.V_Z,f.default.instance.V_Z=0)})},t.prototype.G_E=function(){var t=this;wx.onHide(function(e){d.default.R_R({enterTimestamp:t.F_U,action:e&&"close"==e.mode?"exit":"enter_bg",success:function(){},fail:function(){}});var n=(new Date).getTime()/1e3;f.default.instance.Y_Y&&n>=f.default.instance.Y_Y&&f.default.instance.C_L<f.default.instance.Y_Y?f.default.instance.V_Z=n:f.default.instance.V_Z=0})},t.prototype.O_O=function(){return!!(this.G_I.userinfo_status&&(new Date).getTime()/1e3-this.M_E<this.M_P)},t.prototype.M_B=function(t,e,n,i,s,a){var o,r=this;void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=this.B_U.M_W.screenWidth),void 0===i&&(i=this.B_U.M_W.screenHeight),o=s?{backgroundColor:s,left:t,top:e,width:n,height:i}:{left:t,top:e,width:n,height:i};var c=wx.createUserInfoButton({type:"text",text:"",style:o});(this.C_T=c).onTap(function(t){c.hide(),c.destroy(),r.C_T=null,console.log(t),t.userInfo&&t.iv&&(a&&a(t.userInfo),r.H_A(t))})},t.prototype.H_A=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(s){switch(s.label){case 0:return e={raw_data:t.rawData,signature:t.signature,encrypted_data:t.encryptedData,iv:t.iv},[4,this.K_Z.J_R(e)];case 1:return n=s.sent(),t.userInfo&&t.userInfo.avatarUrl&&(this.G_I=i({},this.G_I,{userInfo:t.userInfo},n),r.default.instance.D_Q=this.G_I.token,this.P_X&&this.P_X(i({},t.userInfo,{userinfo_status:!1}))),[2]}})})},t.prototype.Y_Q=function(t,e,n,i,o,r,c){return s(this,void 0,void 0,function(){return a(this,function(s){switch(s.label){case 0:return this.X_M=t,this.X_M?[4,this.O_O()]:[2];case 1:return s.sent()||this.X_M&&this.M_B(n||0,i||0,o||this.B_U.M_W.screenWidth,r||this.B_U.M_W.screenHeight,c,e),[2]}})})},t.prototype.J_I=function(t){return s(this,void 0,void 0,function(){return a(this,function(){return this.Y_P=t,[2]})})},t.prototype.W_P=function(){t.instance.C_T&&(t.instance.C_T.hide(),t.instance.C_T.destroy(),t.instance.C_T=null)},t.prototype.Q_G=function(e,n){return void 0===n&&(n=""),s(this,void 0,void 0,function(){var s,o,r,u,l=this;return a(this,function(a){switch(a.label){case 0:if(this.F_U=(new Date).getTime()/1e3>>0,this.J_N(13,21),"success"!==this.N_N())return[3,5];this.O_O()?this.P_X&&this.P_X({userinfo_status:!0}):this.X_M&&(this.J_N(14,21),this.M_B()),setTimeout(function(){l.Y_P&&wx.hideLoading()},1e3),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),this.S_Z(),this.G_E(),c.default.instance.L_D(),this.J_N(17,21),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,c.default.instance.D_L(!0)];case 2:return s=a.sent(),this.J_N(18,21),wx.onShareAppMessage(function(){return s}),[3,4];case 3:return a.sent(),[3,4];case 4:return t.wxOnShowRes=this.B_U.U_A,this.G_I[this.N_V[1]+this.N_V[23]+this.N_V[7]+"_"+this.N_V[4]+this.N_V[14]+this.N_V[1]+this.N_V[14]+this.N_V[20]+this.N_V[4]]&&t.wxOnShowRes&&window[this.N_V[1]+this.N_V[23]+this.N_V[7]]&&(window[this.N_V[1]+this.N_V[23]+this.N_V[7]](),wx.aldSendOpenid(this.G_I.openid),showEvent&&showEvent(t.wxOnShowRes)),y.default.initRequirePlugin(),this.G_I.conf&&delete this.G_I.conf.target_app_info,o=i({},this.G_I,{conf:this.G_I.conf}),this.J_N(19,21),this.B_U.N_P=!0,r=null===this.L_G?o.register?[{timestamp:this.B_I,action:"sdk_init__reg",ext:{cost:this.U_H,res:this.P_H}},{timestamp:this.Q_S,action:"sdk_init__login",ext:{cost:this.R_S,res:this.F_W}}]:[{timestamp:this.Q_S,action:"sdk_init__login",ext:{cost:this.R_S,res:this.F_W}}]:o.register?[{timestamp:this.B_I,action:"sdk_init__reg",ext:{cost:this.U_H,res:this.P_H}},{timestamp:this.Q_S,action:"sdk_init__login",ext:{cost:this.R_S,res:this.F_W}},{timestamp:this.L_G,action:"sdk_init__cs",ext:{cost:this.A_A,res:this.X_R}}]:null===this.Q_S?[{timestamp:this.L_G,action:"sdk_init__cs",ext:{cost:this.A_A,res:this.X_R}}]:[{timestamp:this.Q_S,action:"sdk_init__login",ext:{cost:this.R_S,res:this.F_W}},{timestamp:this.L_G,action:"sdk_init__cs",ext:{cost:this.A_A,res:this.X_R}}],d.default.A_N({param:r,success:function(){},fail:function(){}}),this.I_I(o),this.N_A(o.conf),[3,6];case 5:"fail"!==this.N_N()&&200==e||(setTimeout(function(){l.Y_P&&wx.hideLoading()},1e3),u="\u5173\u4e8e\u83b7\u53d6\u6388\u6743\u5931\u8d25\uff1a\n1.\u5f53\u524d\u8fde\u63a5\u7684\u7f51\u7edc\u4e0d\u7a33\u5b9a\n2.\u670d\u52a1\u5668\u53d7\u5230\u7f51\u7edc\u6ce2\u52a8\n3.\u6388\u6743\u7528\u6237\u4fe1\u606f\u5931\u8d25\n4.\u70b9\u51fb\u201c\u91cd\u65b0\u767b\u5f55\u201d\u5c1d\u8bd5\u91cd\u8fde\uff0c\u610f\u89c1\u53cd\u9988\u70b9\u51fb\u201c\u5ba2\u670d\u201d\u6309\u94ae\r\n"+n+" "+e,wx.showModal({title:"\u767b\u5f55\u5931\u8d25",content:u,confirmText:"\u91cd\u65b0\u767b\u5f55",cancelText:"\u5173\u95ed",success:function(t){t.confirm?(setTimeout(function(){l.C_P()||l.Y_P&&wx.showLoading({title:"\u767b\u5f55\u4e2d",mask:!l.B_U.C_X})},1e3),l.Q_A(l.I_I)):t.cancel},fail:function(){}})),a.label=6;case 6:return[2]}})})},t.prototype.N_A=function(t){if(t&&t.game_conf){var e=t.game_conf;if(e){var n={};e.forEach(function(t){n[t.key]=t});var i=n.ignore_module_events;if(i){var s=i.value;if(s){var a=s.ignore_module_events;this.S_H=a}}u.default.consoleData("ignoreModuleEventsKeys\uff1a"+JSON.stringify(this.S_H));var o=n.ignore_general_action;if(o){var r=o.value;if(r){var c=r.ignore_general_action;this.O_T=c}}u.default.consoleData("ignoreGeneralActionKeys\uff1a"+JSON.stringify(this.O_T));var l=n.ignore_new_user_guide;if(l){var _=l.value;if(_){for(var f=[],d=_.ignore_new_user_guide,h=0;h<d.length;h++)if(Array.isArray(d[h])){if(d[h][0]&&d[h][1])for(var p=d[h][0],g=d[h][1],y=p;y<=g;y++)f.push(y)}else f.push(d[h]);this.G_V=f}}u.default.consoleData("ignoreNewUserGuideKeys\uff1a"+JSON.stringify(this.G_V));var m=n.ignore_stage;if(m){var v=m.value;if(v){var b=[];for(d=v.ignore_stage,h=0;h<d.length;h++)if(Array.isArray(d[h])){if(d[h][0]&&d[h][1])for(p=d[h][0],g=d[h][1],y=p;y<=g;y++)b.push(y)}else b.push(d[h]);this.N_F=b}}u.default.consoleData("ignoreStageKeys\uff1a"+JSON.stringify(this.N_F))}}},t}();e.default=m},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.J_G={},this.B_P={},this.T_N={},this.V_V={},this.B_F={},this.M_R={},this.M_T={},this.R_C=[]}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"L_S",{get:function(){return this.P_G},set:function(t){this.P_G=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Y_V",{get:function(){return this.N_T},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"F_E",{get:function(){return this.C_S},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"L_F",{get:function(){return this.K_D},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"K_S",{get:function(){return this.R_C},enumerable:!0,configurable:!0}),t.prototype.H_H=function(t){if(t)return this.J_G[t]},Object.defineProperty(t.prototype,"A_Z",{set:function(t){this.J_G=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"I_V",{get:function(){return this.B_P},set:function(t){this.B_P=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"banner",{get:function(){return this.G_J},enumerable:!0,configurable:!0}),t.prototype.E_Q=function(t){if(t)return this.T_N[t]},Object.defineProperty(t.prototype,"D_K",{set:function(t){this.T_N=t},enumerable:!0,configurable:!0}),t.prototype.R_M=function(t){if(t)return this.B_F[t]},t.prototype.J_B=function(t){if(t)return this.M_R[t]},t.prototype.V_E=function(t){if(t)return console.log("M_T"+JSON.stringify(this.M_T)),this.M_T[t]},Object.defineProperty(t.prototype,"F_S",{set:function(t){this.V_V=t},enumerable:!0,configurable:!0}),t.prototype.B_S=function(t){if(t)return this.V_V[t]},t.prototype.Z_D=function(t){var e=this;t.share_conf.forEach(function(t){e.J_G[t.loc]=t}),t.game_conf.forEach(function(t){e.B_P[t.key]=t}),t.ad_conf.forEach(function(t){e.T_N[t.loc]=t}),t.interstitial_ad_conf.forEach(function(t){e.M_R[t.loc]=t}),t.grid_ad_conf.forEach(function(t){e.M_T[t.loc]=t}),t.loc_conf.forEach(function(t){e.V_V[t.loc]=t,e.R_C.push(t.loc)}),t.banner_conf.forEach(function(t){e.B_F[t.loc]=t}),this.C_S=t.pay_status,this.N_T=t.audit_status,this.K_D=t.share_status,this.G_J=t.banner_conf},t}();e.default=n},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(){function t(){this.X_I=!1,this.D_Y="1.3.0",this.B_M="",this.U_M="3.31.0",this.U_A={},this.M_W={},this.K_T="https://beta.bcxgame.com",this.F_Y={},this.Y_A=!1,this.N_P=!1,this.U_U=this.L_R(),this.U_K=this.L_R()}return Object.defineProperty(t,"instance",{get:function(){return void 0===t.P_Y&&(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),t.prototype.F_O=function(t){return i(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.G_H(),this.C_X=t.debug?1:0,this.Y_A?(this.C_X?(this.K_T=t.debugHost,wx.setEnableDebug({enableDebug:!0})):this.K_T=t.host,this.D_Y=t.version,this.R_V=t.chn,[4,this.P_C()]):[2];case 1:return e.sent(),[2]}})})},Object.defineProperty(t.prototype,"isVideoRunout",{get:function(){return this.X_I},set:function(t){this.X_I=t},enumerable:!0,configurable:!0}),t.prototype.G_H=function(){-1!==window.navigator.userAgent.indexOf("MiniGame")&&(this.Y_A=!0)},t.prototype.setHttpSession=function(t){if(""!==t){var e=t.substr(0,8),n=t.substr(8,8);this.F_Y.dk=e,this.F_Y.dv=n,this.U_U=e,this.U_K=n}},t.prototype.U_R=function(){var t=this.U_A.query.channel_class?this.U_A.query.channel_class:"",e=this.U_A.query.channel_entry?this.U_A.query.channel_entry:"";this.F_Y["channel-class"]=t,this.F_Y["channel-entry"]=e},t.prototype.setHttpHeaderScene=function(t){this.F_Y.scene=t},t.prototype.P_C=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return t=encodeURIComponent,this.J_Z(),this.Y_I(),[4,this.H_X()];case 1:return e.sent(),this.U_R(),this.F_Y={platform:t(this.M_W.platform.toLowerCase()),brand:t(this.M_W.brand),model:t(this.M_W.model),language:t(this.M_W.language),chn:this.R_V,"pixel-ratio":t(this.M_W.pixelRatio),"screen-width":t(this.M_W.screenWidth),"screen-height":t(this.M_W.screenHeight),"window-width":t(this.M_W.windowWidth),"window-height":t(this.M_W.windowHeight),"status-bar-height":t(this.M_W.statusBarHeight),"font-size-setting":t(this.M_W.fontSizeSetting),"wx-ver":t(this.M_W.version),"os-ver":t(this.M_W.system),"sdk-ver":t(this.M_W.SDKVersion),"app-env":"wechat","app-env-ver":t(this.M_W.version),"app-env-sdk-ver":t(this.M_W.SDKVersion),"channel-class":"","channel-entry":"","benchmark-level":t(this.M_W.benchmarkLevel),network:t(this.B_M),"app-ver":t(this.D_Y),"gsdk-ver":t(this.U_M),debug:this.C_X,"referrer-appid":JSON.stringify(this.U_A.referrerInfo&&this.U_A.referrerInfo.appId?this.U_A.referrerInfo.appId+"":""),scene:this.U_A.scene?this.U_A.scene:0,"mp-query":JSON.stringify(this.U_A.query?this.U_A.query:{}),dk:this.U_U,dv:this.U_K,ev:"2"},[2]}})})},t.I_O=function(t){t.callBack&&t.callBack({d:""})},t.R_L=function(t){var e="";wx.getNetworkType({success:function(n){e=n.networkType,t.callBack&&t.callBack({d:e})},fail:function(){t.callBack&&t.callBack({d:e})}})},t.I_E=function(e){e.callBack&&e.callBack({d:encodeURI(t.P_Y.M_W.platform.toLowerCase())})},t.prototype.J_Z=function(){this.U_A=wx.getLaunchOptionsSync()},t.prototype.Y_I=function(){this.M_W=wx.getSystemInfoSync()},t.prototype.H_X=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return t=a.default.promisify(wx.getNetworkType),e=this,[4,t().networkType];case 1:return e.B_M=n.sent(),[2]}})})},t.prototype.L_R=function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()},t}();e.default=o},function(t,e,n){var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(14),u=n(0),l=function(t){function e(){var e=t.call(this)||this;return e._invalidSessionReloginTimes=0,e.D_Q="",e.W_N="/api/ip",e.D_A="/api/ip_region",e.W_O="/api/timestamp",e.S_A="/api/lottery/get_daily_count",e.T_U="/api/lottery/incr_daily_count",e.L_J="/api/counter/user_daily_count/incr",e.Q_U="/api/counter/user_daily_count/batch_get",e.S_T="/api/user/set_labels",e.N_Y="/api/user/labels",e.R_J="/api/clear_all_data",e.P_W="/api/stat/get_recent_active_time",e.Q_L="/api/feedback/send",e.Z_U="/api/auth/login_v5",e.D_G="/api/auth/authorize/v2",e.O_M="/api/user/asset/update",e.Z_I="/api/user/asset",e.C_K="/api/conf/game_conf/value",e.G_L="/api/lottery/lucky_users",e.X_G="/api/user/wx_userinfo",e.A_M="/api/auth/session_key/refresh",e.O_E="/api/user/partial_asset/set",e.H_G="/api/user/partial_asset/get",e.M_Q="/api/user/partial_asset/batch_atomic_inc",e.Z_Z="/api/task/add_fav",e.W_S="/api/task/report_add_fav_success",e.K_M="/api/user/invite_records",e.H_R="/api/stat/event",e.P_L="/api/stat/assign_abtest_group",e.T_O="/api/video/request_video",e.K_A="/api/video/report_video_result",e.H_J="/api/effect/report_apply_result",e.Q_I="/api/effect/report_result",e.L_P="/api/ia/report_result",e.W_L="/api/conf/recommend",e.V_X="/api/recommend/report_app_display",e.K_V="/api/recommend/report_app_click",e.Y_E="/api/recommend/mp_ticket",e.N_S="/api/recommend/app_click_result",e.U_V="/api/auth/check_session/v2",e.H_Q="/api/user/set_qualified_level",e.M_G="/api/conf/subscribe",e.K_W="/api/wechat/subscribe/add_v2",e.K_K="/api/user/wechat_platform_gift/deliver",e.K_F="/api/wechat/decrypt_platform_data",e.I_S="/api/wechat/report_ad_user_label",e.W_U="/api/pay/apply_game_order",e.V_A="/api/pay/midas_minigame/report_pay_result",e.B_B="/api/pay/midas_minigame/withdraw",e.T_X="/api/pay/finish_order",e.M_F="/api/pay/order/list",e.J_Y="/api/pay/unfinished_orders",e.W_W="/api/pay/report_client_pay_result",e.Z_V="/api/pay/order_detail",e.W_R="/api/user/key_values_changed",e.U_C=0,e.O_F=0,e.M_A=0,e}return s(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0===e.P_Y&&(e.P_Y=new e),e.P_Y},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.F_O()},e.prototype.K_Y=function(){var t=this;wx.login({success:function(n){return o(t,void 0,void 0,function(){var t,i;return r(this,function(s){switch(s.label){case 0:this._invalidSessionReloginTimes=0,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.instance.J_U({code:n.code})];case 2:return t=s.sent(),(i=u.default.getStorage("user")).token&&(i.token=t.token,u.default.saveStorage("user",i)),e.instance.D_Q=t.token,[3,4];case 3:return s.sent(),[3,4];case 4:return[2]}})})},fail:function(){t._invalidSessionReloginTimes<2?(t.K_Y(),t._invalidSessionReloginTimes++):t._invalidSessionReloginTimes=0}})},e.prototype.X_C=function(t){var e={description:t.description,pay_method:t.payMethod,total_fee:t.totalFee,game_trade_no:t.gameTradeNo,game_attach:t.gameAttach,server_no:t.serverNo,role_name:t.roleName,role_level:t.roleLevel};t.midasZoneId&&(e.midas_zone_id=t.midasZoneId),t.midasPlatform&&(e.midas_platform=t.midasPlatform),t.midasCoinCount&&(e.midas_coin_count=t.midasCoinCount),t.midasEnv&&(e.midas_env=t.midasEnv),this.C_W({url:this.W_U,data:e,crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.W_C=function(t){this.C_W({url:this.Z_V,data:{trade_no:t.tradeNo},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.W_T=function(t){this.C_W({url:this.V_A,data:{trade_no:t.tradeNo,result_code:t.resultCode,result_msg:t.resultMsg},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.S_R=function(t){var e={zone_id:t.zoneId,platform:t.platform,coin_count:t.coinCount,relate_trade_no:t.relateTradeNo,withdraw_uuid:t.withdrawUUID,midas_env:t.midasEnv};console.log(e),this.C_W({url:this.B_B,data:e,crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.A_L=function(t){this.C_W({url:this.T_X,data:{trade_no:t.tradeNo,asset_snapshot_id:t.assetSnapshotId},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.V_U=function(t){this.C_W({url:this.M_F,data:{pay_status:t.payStatus,page:t.page,page_size:t.pageSize},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.Q_J=function(t){this.C_W({url:this.J_Y,data:{},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.H_U=function(t){this.C_W({url:this.W_R,data:{changes:t.changes},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.R_A=function(t){this.X_D({url:this.W_N,data:{req_id:this.O_P()},crypto:!1,success:function(e){t.success&&t.success(e)},fail:function(e){0==e.statusCode||e.statusCode?t.fail&&t.fail(e):t.success&&t.success(e)}})},e.prototype.W_M=function(t){this.X_D({url:this.D_A,data:{req_id:this.O_P()},crypto:!1,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.C_Z=function(t){this.X_D({url:this.W_O,data:{req_id:this.O_P()},crypto:!1,success:function(e){t.success&&t.success(e)},fail:function(e){0==e.statusCode||e.statusCode?t.fail&&t.fail(e):t.success&&t.success(e)}})},e.prototype.D_U=function(t){var e;e=t.ids?{category:t.category,content:t.content,screenshot_ids:t.ids}:{category:t.category,content:t.content},this.C_W({url:this.Q_L,data:e,crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.M_Z=function(t){var e=this;this.C_W({url:this.S_A,data:{counter_key:t.counter_key,req_id:this.O_P()},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.G_N=function(t){var e=this;this.C_W({url:this.T_U,data:{counter_key:t.counter_key,req_id:this.O_P()},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.X_B=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.L_J,data:{key:t.key},crypto:!0,success:function(t){n(t)},fail:function(t){i(t)}})})},e.prototype.C_M=function(t){this.C_W({url:this.Q_U,data:{keys:t.keys},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.V_R=function(t){var e=this;return new Promise(function(n,i){e.X_D({url:e.R_J,data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.Y_C=function(t){var e=this;this.C_W({url:this.S_T,data:{labels:t.labels,req_id:this.O_P()},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.G_P=function(t){var e=this;this.C_W({url:this.N_Y,data:{},crypto:!0,success:function(e){0===e.d||e.d?t.success&&t.success(e.d):t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.R_U=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.Z_U,data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){i(t)}})})},e.prototype.J_U=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.A_M,data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){i(t)}})})},e.prototype.J_R=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.D_G,data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.N_O=function(t){var e,n=this;e=t.takeSnapshot?{version:t.version,ext:t.ext,use_client_version:!1,take_snapshot:1,req_id:this.O_P()}:{version:t.version,ext:t.ext,use_client_version:!1,req_id:this.O_P()},this.C_W({url:this.O_M,data:e,crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){e&&12004===e.c&&n.K_Y(),t.fail&&t.fail(e)}})},e.prototype.T_I=function(t){var e=this;this.C_W({url:this.Z_I,data:{req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.R_N=function(t){this.C_W({url:this.P_L,data:{group_full_key:t.groupFullKey},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.B_C=function(t){this.C_W({url:this.O_E,data:{partial_asset:t.partialAsset},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.A_V=function(t){this.C_W({url:this.H_G,data:{keys:t.keys},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.S_S=function(t){this.C_W({url:this.M_Q,data:{operations:t.operations},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.Y_T=function(t){this.C_W({url:this.K_F,data:{encrypted_data:t.encryptedData,iv:t.iv,signature:t.signature},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.M_S=function(t){var e=this;this.C_W({url:this.C_K,data:{keys:t.keys,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.R_D=function(t){var e=this;this.C_W({url:this.G_L,data:{size:t.size,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.J_X=function(t){var e=this;this.C_W({url:this.X_G,data:{req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.K_C=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:"/api/"+e.S_K+"/invite/bind",data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.X_S=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:"/api/"+e.S_K+"/share/params",data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.G_U=function(t){var e=this;this.C_W({url:this.K_M,data:a({},t.data,{req_id:this.O_P()}),crypto:!0,success:function(e){t.option.success&&t.option.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.option.fail&&t.option.fail(n)}})},e.prototype.Q_Y=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:"/api/"+e.S_K+"/share/report",data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.E_J=function(t){var e,n=this;e=0==t.result_type||t.result_type?{result_type:t.result_type,req_id:this.O_P()}:{req_id:this.O_P()},this.C_W({url:this.Z_Z,data:e,crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){e&&12004===e.c&&n.K_Y(),t.fail&&t.fail(e)}})},e.prototype.D_V=function(t){var e=this;this.C_W({url:this.W_S,data:{scene:t.scene,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.M_C=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.T_O,data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.G_K=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.K_A,data:a({},t,{req_id:e.O_P()}),crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.S_I=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.H_J,data:a({},t),crypto:!0,success:function(t){n(t)},fail:function(t){u.default.consoleData("\u4e0a\u62a5\u7533\u8bf7\u89c6\u9891\u5e7f\u544a\u5f02\u5e38:",""+JSON.stringify(t)),i(t)}})})},e.prototype.N_X=function(t){var e=this,n=this.O_P();return u.default.consoleData("\u4e0a\u62a5\u901a\u7528\u5e7f\u544a\u7ed3\u679c\u4f20\u5165\u53c2\u6570=============",""+JSON.stringify(a({},t,{e:n}))),new Promise(function(i,s){e.C_W({url:e.Q_I,data:a({},t,{eid:n,ad_platform:"mp"}),crypto:!0,success:function(t){i(t)},fail:function(t){u.default.consoleData("\u4e0a\u62a5\u63d2\u5c4f\u5e7f\u544a\u7ed3\u679c\u5f02\u5e38:",""+JSON.stringify(t)),s(t)}})})},e.prototype.E_Y=function(t){var e=this,n=this.O_P();return new Promise(function(i,s){e.C_W({url:e.L_P,data:a({},t,{iaid:n}),crypto:!0,success:function(t){i(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),s(t)}})})},e.prototype.O_P=function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+t()+t()+t()+t()+t()+t()},e.prototype.S_N=function(t){var e=this;this.C_W({url:this.H_R,data:t.data,crypto:!0,success:function(e){t.options.cost?t.options.success&&t.options.success(a({},e,{cost:t.options.cost})):t.options.success&&t.options.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.options.fail&&t.options.fail(n)}})},e.prototype.K_U=function(t){this.C_W({url:this.H_R,data:t.data,crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.E_N=function(t){var e=this;this.C_W({url:"/api/"+this.S_K+"/daily_sign_info",data:{req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.D_B=function(t){var e=this;this.C_W({url:"/api/"+this.S_K+"/add_daily_sign",data:{req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.U_N=function(t){this.C_W({url:this.P_W,data:{},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.C_G=function(t){this.C_W({url:this.I_S,data:{provided_info:t.providedInfo,label_encrypted_data:t.labelEncryptedData,iv:t.iv},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.L_A=function(t){var e=this;this.C_W({url:"/api/"+this.S_K+"/world-rank-info",data:{group:t.group,score:t.score,ext_info:t.ext_info,rank_type:t.rank_type,sort_type:t.sort_type,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.J_V=function(t){var e=this;this.C_W({url:"/api/"+this.S_K+"/world-rank",data:{group:t.group,start:t.start,end:t.end,rank_type:t.rank_type,sort_type:t.sort_type,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.E_D=function(t){var e=this,n=(new Date).getTime();if(n-this.U_C<1e3)t.fail&&t.fail({c:100403,m:"\u8fc7\u9ad8\u9891\u7387\u8c03\u7528\u63a5\u53e3 getAllRecommendList\uff0c\u8bf7\u786e\u8ba4\u4ee3\u7801\u903b\u8f91\u662f\u5426\u5b58\u5728\u95ee\u9898"});else{this.U_C=n;var i={req_id:this.O_P()};this.C_W({url:this.W_L,data:i,crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})}},e.prototype.Q_Z=function(t){var e=this,n=(new Date).getTime();if(n-this.O_F<1e3&&t.code==this.V_C)t.fail&&t.fail({c:100403,m:"\u8fc7\u9ad8\u9891\u7387\u8c03\u7528\u63a5\u53e3 getRecommendListByCode\uff0c\u8bf7\u786e\u8ba4\u4ee3\u7801\u903b\u8f91\u662f\u5426\u5b58\u5728\u95ee\u9898"});else{this.O_F=n,this.V_C=t.code;var i={code:t.code,req_id:this.O_P()};this.C_W({url:this.W_L,data:i,crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})}},e.prototype.Y_S=function(t){var n=this;e.instance.C_W({url:e.instance.V_X,data:{list_code:t.code,raids:t.raids,list_item_ids:t.list_item_ids,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){e&&12004===e.c&&n.K_Y(),t.fail&&t.fail(e)}})},e.prototype.T_R=function(t){var e=this,n=(new Date).getTime();n-this.M_A<1e3&&t.code==this.P_M&&t.raid==this.W_V?t.fail&&t.fail({c:100403,m:"\u8fc7\u9ad8\u9891\u7387\u8c03\u7528\u63a5\u53e3 reportAppClick\uff0c\u8bf7\u786e\u8ba4\u4ee3\u7801\u903b\u8f91\u662f\u5426\u5b58\u5728\u95ee\u9898"}):(this.M_A=n,this.P_M=t.code,this.W_V=t.raid,this.C_W({url:this.K_V,data:{list_code:t.code,raid:t.raid,list_item_id:t.list_item_id,launch_type:t.launch_type,result:t.result,require_stay_time:t.require_stay_time,tid:t.tid,platform:t.platform,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}}))},e.prototype.B_R=function(t){var e=this;this.C_W({url:this.N_S,data:{tid:t.tid,stay_time:t.stay_time,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.C_B=function(t){var e=this;return new Promise(function(n,i){e.C_W({url:e.Y_E,data:t,crypto:!0,success:function(t){n(t)},fail:function(t){t&&12004===t.c&&e.K_Y(),i(t)}})})},e.prototype.R_Z=function(){var t=this;return new Promise(function(e,n){t.C_W({url:t.U_V,data:{req_id:t.O_P()},crypto:!0,success:function(t){e(t)},fail:function(e){e&&12004===e.c&&t.K_Y(),n(e)}})})},e.prototype.W_G=function(t){var e=this;this.C_W({url:this.H_Q,data:{qualified_level:t.qualified_level,req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.O_J=function(t){var e=this;this.C_W({url:this.M_G,data:{req_id:this.O_P()},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.J_J=function(t){var e=this;this.C_W({url:this.K_W,data:a({req_id:this.O_P()},t.data),crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.T_Z=function(t){var e=this;this.C_W({url:"/api/"+this.S_K+"/json_conf",data:a({},t,{req_id:this.O_P()}),crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(n){n&&12004===n.c&&e.K_Y(),t.fail&&t.fail(n)}})},e.prototype.J_F=function(t){this.C_W({url:this.K_K,data:{},crypto:!0,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.K_I=function(t){this.P_S(t)},e}(c.default);e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=n(0),a=n(3),o=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=i.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.Z_S=function(e){if(t.instance.K_Z)if(t.instance.G_V&&0!=t.instance.G_V.length&&-1!=t.instance.G_V.indexOf(e.guide_id))console.error("guide_id \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else{var n={event_id:"USER_ACTION",req_id:t.instance.K_Z.O_P(),data:[{timestamp:(new Date).getTime()/1e3>>0,action:"new_user_guide",ext:{guide_id:e.guide_id}}]};t.instance.K_Z.S_N({data:n,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportUserGuide \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.K_X=function(e){if(t.instance.K_Z)if(t.instance.G_V&&0!=t.instance.G_V.length&&-1!=t.instance.G_V.indexOf(e.guide_id))console.error("guide_id \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else{var n={event_id:"USER_ACTION",req_id:t.instance.K_Z.O_P(),data:[{timestamp:(new Date).getTime()/1e3>>0,action:"skip_guide",ext:{guide_id:e.guide_id}}]};t.instance.K_Z.S_N({data:n,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportSkipGuide \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.B_V=function(e){if(t.instance.K_Z)if(t.instance.N_F&&0!=t.instance.N_F.length&&-1!=t.instance.N_F.indexOf(e.stage))console.error("stage \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else{var n;n=e.groupState?{stat_group:e.groupState,stage:e.stage}:{stage:e.stage},e.label&&(n.act_text1=e.label);var i={event_id:"USER_ACTION",req_id:t.instance.K_Z.O_P(),data:[{timestamp:(new Date).getTime()/1e3>>0,action:"enter_stage",ext:n}]};t.instance.K_Z.S_N({data:i,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportEnterStage \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.G_X=function(e){if(t.instance.K_Z)if(t.instance.N_F&&0!=t.instance.N_F.length&&-1!=t.instance.N_F.indexOf(e.stage))console.error("stage \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else{var n;if(n=e.groupState?{stat_group:e.groupState,stage:e.stage,status:e.status,continue_times:e.continueTimes,op_times:e.operateTimes,cost_t:e.costTime,extra:e.extraData?e.extraData:{}}:{stage:e.stage,status:e.status,continue_times:e.continueTimes,op_times:e.operateTimes,cost_t:e.costTime,extra:e.extraData?e.extraData:{}},e.label&&(n.act_text1=e.label),null!=e.keyItemUseList&&null!=e.keyItemUseList&&0<Object.keys(e.keyItemUseList).length){var i=JSON.stringify(e.keyItemUseList);n.act_text2=i}n.act_num1=e.progress;var s={event_id:"USER_ACTION",req_id:t.instance.K_Z.O_P(),data:[{timestamp:(new Date).getTime()/1e3>>0,action:"end_stage",ext:n}]};t.instance.K_Z.S_N({data:s,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportEndStage \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.A_N=function(e){if(t.instance.K_Z){var n={event_id:"TIME_COST",req_id:t.instance.K_Z.O_P(),data:e.param};t.instance.K_Z.S_N({data:n,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportEndStage \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.C_C=function(){t.Q_Q=(new Date).getTime()/1e3},t.Z_X=function(e){if(t.instance.K_Z)if(null!=t.Q_Q){e.isFirstLoad||s.default.saveStorage("isFirstLoad",e.isFirstLoad);var n=(new Date).getTime()/1e3,i=parseFloat((n-t.Q_Q).toFixed(2)),a={event_id:"TIME_COST",req_id:t.instance.K_Z.O_P(),data:[{timestamp:t.Q_Q,action:e.isFirstLoad?"loading_1st":"loading_2nd",ext:{cost:i,res:e.result}}]};e.cost=i,t.Q_Q=null,t.instance.K_Z.S_N({data:a,options:e})}else e.fail({c:10016,m:"\u8bf7\u5148\u8c03\u7528 LWGSDK.recordLoadingTimeStart \u63a5\u53e3"});else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportEndStage \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.L_O=function(e){if(t.instance.K_Z)if(null!=t.Q_Q){var n=(new Date).getTime()/1e3,i=parseFloat((n-t.Q_Q).toFixed(2)),s={event_id:"TIME_COST",req_id:t.instance.K_Z.O_P(),data:[{timestamp:t.Q_Q,action:e.isFirstLoad?"loading_1st":"loading_2nd",ext:{cost:i,res:e.result}}]};e.cost=i,t.Q_Q=null,t.instance.K_Z.S_N({data:s,options:e})}else e.fail({c:10016,m:"\u8bf7\u5148\u8c03\u7528 LWGSDK.recordLoadingTimeStart \u63a5\u53e3"});else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportEndStage \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.S_X=function(e){t.R_Q[e]=Date.now()/1e3>>0},t.T_H=function(e){if(t.instance.K_Z)if(t.R_Q[e.action]){var n=((new Date).getTime()/1e3>>0)-t.R_Q[e.action],i={event_id:"TIME_COST",req_id:t.instance.K_Z.O_P(),data:[{timestamp:t.R_Q[e.action],action:e.action,ext:{cost:n,res:e.result}}]};e.cost=n,delete t.R_Q[e.action],t.instance.K_Z.S_N({data:i,options:e})}else e.fail({c:10016,m:"\u8bf7\u5148\u8c03\u7528 LWGSDK.recordTimeCostStart \u63a5\u53e3"});else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportEndStage \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.R_R=function(e){if(t.instance.K_Z){var n=(new Date).getTime()/1e3>>0,i={event_id:"ACTIVE_TIME",req_id:t.instance.K_Z.O_P(),data:[{timestamp:n,action:e.action,ext:{enter_ts:e.enterTimestamp,leave_ts:n}}]};t.instance.K_Z.S_N({data:i,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportUserGuide \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.A_P=function(e){if(t.instance.K_Z){var n=[],s={timestamp:(new Date).getTime()/1e3>>0,session:i.default.instance.T_W,event:e.event};e.ext&&(s.ext=e.ext),n.push(s);var a={event_id:"CLIENT_EVENT",data:n};t.instance.K_Z.S_N({data:a,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportCustomEvent \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.K_N=function(e){if(t.instance.K_Z)if(/^\w+$/.test(e.module))if(t.instance.S_H&&0!=t.instance.S_H.length&&-1!=t.instance.S_H.indexOf(e.module))console.error("module \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else{var n=(new Date).getTime()/1e3>>0,i=Math.random().toString(36).substring(7);t.C_O[e.module]=(new Date).getTime(),t.A_Y[e.module]=i,t.I_U[e.module]=0,t.J_T[e.module]=[],t.T_M[e.module]=!0;var s=[],a={timestamp:n,duration:0,module:e.module,mod_session:i,action:"ENTER"};e.modValue&&(a.modValue=e.modValue),s.push(a);var o={event_id:"MODULE_EVENT",data:s};t.instance.K_Z.S_N({data:o,options:e})}else e.fail&&e.fail({c:1,m:"module \u4e0d\u4e3a\u4ec5\u6709\u82f1\u6587\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210\u7684\u5b57\u7b26\u4e32"});else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportCustomEvent \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.H_D=function(e){if(t.instance.K_Z)if(/^\w+$/.test(e.module))if(t.instance.S_H&&0!=t.instance.S_H.length&&-1!=t.instance.S_H.indexOf(e.module))console.error("module \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else if(100<=e.index||e.index<=0)e.fail&&e.fail({c:2,m:"index \u6570\u503c\u4e0d\u80fd\u5927\u4e8e\u7b49\u4e8e 100 \u6216\u8005\u5c0f\u4e8e\u7b49\u4e8e 0"});else{var n=e.index-1;t.T_M[e.module]||console.warn("\u6ca1\u6709\u8c03\u7528 enter \u4e8b\u4ef6"),t.I_U[e.module]&&t.I_U[e.module]!=n&&console.warn("\u4e8b\u4ef6\u7684\u987a\u5e8f\u4e0d\u662f\u9012\u589e\u7684"),t.J_T[e.module]&&-1<t.J_T[e.module].indexOf(e.index)&&console.warn("\u4e8b\u4ef6\u7684\u6253\u70b9\u91cd\u590d\u4e86"),t.I_U[e.module]=e.index,t.J_T[e.module]&&t.J_T[e.module].push(e.index);var i,s,a=0,o=(new Date).getTime()/1e3>>0;i=e.index<10?"ACTION_0"+e.index:"ACTION_"+e.index,t.C_O[e.module]&&(a=parseFloat((((new Date).getTime()-t.C_O[e.module])/1e3).toFixed(2))),s=t.A_Y[e.module]?t.A_Y[e.module]:Math.random().toString(36).substring(7);var r=[],c={timestamp:o,duration:a,module:e.module,mod_session:s,action:i,mod_value:e.modValue};r.push(c);var u={event_id:"MODULE_EVENT",data:r};t.instance.K_Z.S_N({data:u,options:e})}else e.fail&&e.fail({c:1,m:"module \u4e0d\u4e3a\u4ec5\u6709\u82f1\u6587\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210\u7684\u5b57\u7b26\u4e32"});else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportCustomEvent \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.B_J=function(e){if(t.instance.K_Z)if(/^\w+$/.test(e.module))if(t.instance.S_H&&0!=t.instance.S_H.length&&-1!=t.instance.S_H.indexOf(e.module))console.error("module \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else{var n,i=0,s=(new Date).getTime()/1e3>>0;t.C_O[e.module]&&(i=parseFloat((((new Date).getTime()-t.C_O[e.module])/1e3).toFixed(2))),n=t.A_Y[e.module]?t.A_Y[e.module]:Math.random().toString(36).substring(7);var a=[],o={timestamp:s,duration:i,module:e.module,mod_session:n,action:"EXIT"};e.modValue&&(o.modValue=e.modValue),a.push(o);var r={event_id:"MODULE_EVENT",data:a};t.instance.K_Z.S_N({data:r,options:e})}else e.fail&&e.fail({c:1,m:"module \u4e0d\u4e3a\u4ec5\u6709\u82f1\u6587\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210\u7684\u5b57\u7b26\u4e32"});else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportCustomEvent \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.U_T=function(e){var n={timestamp:(new Date).getTime()/1e3>>0,action:e.action,ext:e.ext};t.O_Q.push(n),5<=t.O_Q.length?t.Q_V():s.default.saveStorage("userAction",t.O_Q)},t.Q_V=function(){if(t.M_J){var e=s.default.getStorage("userAction");if(t.M_J=!1,e&&0<e.length){var n={event_id:"USER_ACTION",req_id:t.instance.K_Z.O_P(),data:e};s.default.consoleData("\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6\u4e0a\u62a5 param===",""+JSON.stringify(n)),t.instance.K_Z.K_U({data:n,success:function(t){s.default.consoleData("\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6\u4e0a\u62a5\u6210\u529f==",""+JSON.stringify(t))},fail:function(t){s.default.consoleData("\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25==",""+JSON.stringify(t))}}),s.default.removeStorage("userAction")}else s.default.consoleData("\u7f13\u5b58\u4e2d\u65e0\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6")}else 0<t.O_Q.length?(n={event_id:"USER_ACTION",req_id:t.instance.K_Z.O_P(),data:t.O_Q},s.default.consoleData("\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6\u4e0a\u62a5 param===",""+JSON.stringify(n)),t.instance.K_Z.K_U({data:n,success:function(t){s.default.consoleData("\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6\u4e0a\u62a5\u6210\u529f==",""+JSON.stringify(t))},fail:function(t){s.default.consoleData("\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25==",""+JSON.stringify(t))}}),t.O_Q=[],s.default.removeStorage("userAction")):s.default.consoleData("userActionArray \u65e0\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6")},t.G_R=function(e){if(e.debug){var n={accessToken:e.accessToken,clientId:t.P_Y.G_I.openid,name:"ge",debugMode:"debug"};(t.ge=new GravityEngine(n)).setupAndStart()}else n={accessToken:e.accessToken,clientId:t.P_Y.G_I.openid,name:"ge",debugMode:"none"},(t.ge=new GravityEngine(n)).setupAndStart();var i=t.N_I(t.P_Y.B_U.D_Y);t.ge.initialize({name:t.P_Y.G_I.hashed_uid,version:i,openid:t.P_Y.G_I.openid,enable_sync_attribution:!1}).then(function(t){console.log("GravityEngine initialize success "+t),e.success&&e.success(t)}).catch(function(t){console.log("GravityEngine initialize failed, error is "+t),e.fail&&e.fail(t)})},t.H_C=function(e){t.ge&&t.ge.track(e.eventName,e.event)},t.G_Z=function(e){t.ge&&(e.isSetOnce?t.ge.userSetOnce(e.event):t.ge.userSet(e.event))},t.I_M=function(e){t.ge&&t.ge.adShowEvent(e.adType,e.adId,{})},t.N_I=function(t){var e=t.split("."),n=0;return e[0]&&(n+=1e4*parseInt(e[0])),e[1]&&(n+=100*parseInt(e[1])),e[2]&&(n+=1*parseInt(e[2])),console.log("num:"+n),n},t.A_W=function(e){if(t.instance.K_Z)if(t.instance.O_T&&0!=t.instance.O_T.length&&-1!=t.instance.O_T.indexOf(e.actionName))console.error("actionName \u5904\u5728\u670d\u52a1\u5668\u7981\u6b62\u4e0a\u62a5\u5b57\u6bb5\u8303\u56f4\u5185\uff0c\u6682\u4e0d\u4e0a\u62a5");else{var n={context:e.context,action_name:e.actionName};e.location&&(n.location=e.location),e.cost&&(n.cost_t=e.cost),n.act_num1=e.actNum1,n.act_num2=e.actNum2,e.actText1&&(n.act_text1=e.actText1),e.actText2&&(n.act_text2=e.actText2);var i={event_id:"USER_ACTION",req_id:t.instance.K_Z.O_P(),data:[{timestamp:Date.now()/1e3>>0,action:"general_action",ext:n}]};s.default.consoleData("\u8fdb\u5165\u526f\u73a9\u6cd5 \u4e8b\u4ef6\u4e0a\u62a5 param===",""+JSON.stringify(i)),t.instance.K_Z.S_N({data:i,options:e})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportEndStage \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.A_X=function(e){var n={appId:e.appId,serverUrl:e.serverUrl,enableBatch:e.enableBatch,autoTrack:{appLaunch:!0,appShow:!0,appHide:!0,pageShow:!0,pageShare:!0}};TDAnalytics.init(n);var i=t.instance.G_I.hashed_uid;TDAnalytics.login(i),t.M_K({event:{platform_name:"\u5fae\u4fe1",chn_name:a.default.instance.R_V},isSetOnce:!0})},t.E_V=function(t){TDAnalytics.setSuperProperties(t.superProperties)},t.V_N=function(t){TDAnalytics.track({eventName:t.eventName,properties:t.event})},t.M_K=function(t){t.isSetOnce?TDAnalytics.userSetOnce({properties:t.event}):TDAnalytics.userSet({properties:t.event})},t.P_R=function(t){TDAnalytics.userAdd({properties:t.event})},t.Q_Q=null,t.R_Q={},t.C_O={},t.A_Y={},t.I_U={},t.J_T={},t.T_M={},t.O_Q=[],t.M_J=!0,t}();e.default=o},function(t,e,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(0),c=n(5),u=n(4),l=n(3),_=n(2),f=n(5),d=n(2),h=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=o.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.getClientIp=function(e){t.instance.K_Z?t.instance.K_Z.R_A(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getClientIp \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.getIpAndRegion=function(e){t.instance.K_Z?t.instance.K_Z.W_M(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getIpAndRegion \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.getServeTime=function(e){t.instance.K_Z?t.instance.K_Z.C_Z(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getServeTime \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.getDailyCount=function(e){t.instance.K_Z?t.instance.K_Z.M_Z(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getDailyCount \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.incrDailyCount=function(e){t.instance.K_Z?t.instance.K_Z.G_N(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 incrDailyCount \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.isAdWhiteList=function(){return 0!=t.instance.X_P&&(1==t.instance.X_P||void 0)},t.setUserLabels=function(e){if(t.instance.K_Z){var n=Array.from(new Set(e.labels)).filter(function(e){return-1==t.instance.O_R.indexOf(e)});n&&0<n.length?t.instance.K_Z.Y_C({labels:n,success:function(n){e.success&&e.success(n),t.instance.O_R=n.labels},fail:function(t){e.fail&&e.fail(t)}}):r.default.consoleData("\u65e0\u65b0\u6807\u7b7e\u65e0\u9700\u4e0a\u62a5")}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 setUserLabels \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.getUserLabels=function(e){t.instance.K_Z.G_P({success:function(n){r.default.consoleData("labels:"+JSON.stringify(n)),t.instance.O_R=n.labels,e.success&&e.success(n)},fail:function(t){e.fail&&e.fail(t)}})},t.getRecentActiveTime=function(t){c.default.R_R({enterTimestamp:o.default.instance.F_U,action:"enter_bg",success:function(){o.default.instance.F_U=(new Date).getTime()/1e3>>0,u.default.instance.U_N({success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},fail:function(e){t.fail&&t.fail(e)}})},t.createGameClubButton=function(e){t.gameClubButton="text"==e.type?e.openlink?wx.createGameClubButton({type:"text",text:e.text?e.text:"",style:{left:e.left,top:e.top,width:e.width,height:e.height,textAlign:e.textAlign&&"left"==e.textAlign||"center"==e.textAlign||"right"==e.textAlign?e.textAlign:"center"},openlink:e.openlink}):wx.createGameClubButton({type:"text",text:e.text?e.text:"",style:{left:e.left,top:e.top,width:e.width,height:e.height,textAlign:e.textAlign&&"left"==e.textAlign||"center"==e.textAlign||"right"==e.textAlign?e.textAlign:"center"}}):"image"==e.type?e.openlink?wx.createGameClubButton({type:e.type,icon:e.icon&&"green"==e.icon||"white"==e.icon||"dark"==e.icon||"light"==e.icon?e.icon:"green",image:e.image,style:{left:e.left,top:e.top,width:e.width,height:e.height,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,borderRadius:e.borderRadius,color:e.color,textAlign:e.textAlign&&"left"==e.textAlign||"center"==e.textAlign||"right"==e.textAlign?e.textAlign:"center",fontSize:e.fontSize,lineHeight:e.lineHeight},openlink:e.openlink}):wx.createGameClubButton({type:e.type,icon:e.icon&&"green"==e.icon||"white"==e.icon||"dark"==e.icon||"light"==e.icon?e.icon:"green",image:e.image,style:{left:e.left,top:e.top,width:e.width,height:e.height,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,borderRadius:e.borderRadius,color:e.color,textAlign:e.textAlign&&"left"==e.textAlign||"center"==e.textAlign||"right"==e.textAlign?e.textAlign:"center",fontSize:e.fontSize,lineHeight:e.lineHeight}}):e.openlink?wx.createGameClubButton({type:"image",icon:e.icon&&"green"==e.icon||"white"==e.icon||"dark"==e.icon||"light"==e.icon?e.icon:"green",style:{left:e.left,top:e.top,width:e.width,height:e.height,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,borderRadius:e.borderRadius,color:e.color,textAlign:e.textAlign&&"left"==e.textAlign||"center"==e.textAlign||"right"==e.textAlign?e.textAlign:"center",fontSize:e.fontSize,lineHeight:e.lineHeight},openlink:e.openlink}):wx.createGameClubButton({type:"image",icon:e.icon&&"green"==e.icon||"white"==e.icon||"dark"==e.icon||"light"==e.icon?e.icon:"green",style:{left:e.left,top:e.top,width:e.width,height:e.height,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,borderRadius:e.borderRadius,color:e.color,textAlign:e.textAlign&&"left"==e.textAlign||"center"==e.textAlign||"right"==e.textAlign?e.textAlign:"center",fontSize:e.fontSize,lineHeight:e.lineHeight}})},t.hideGameClubButton=function(){t.gameClubButton&&t.gameClubButton.hide&&(t.gameClubButton.hide(),t.gameClubButton&&t.gameClubButton.destroy&&(t.gameClubButton.destroy(),t.gameClubButton=null))},t.getGameClubData=function(e){wx.getSetting({success:function(n){r.default.consoleData("getSetting success",n),n.authSetting["scope.gameClubData"]?t.getGameClubDataDetail({dataTypeList:e.dataTypeList,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}}):wx.authorize({scope:"scope.gameClubData",success:function(){r.default.consoleData("authorize success"),t.getGameClubDataDetail({dataTypeList:e.dataTypeList,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},fail:function(n){r.default.consoleData("authorize err",JSON.stringify(n)),wx.showModal({title:"\u63d0\u793a",content:"\u662f\u5426\u8fdb\u5165\u6e38\u620f\u5708\u6570\u636e\u6388\u6743\u9875\u9762?",success:function(n){n.confirm&&wx.openSetting({success:function(n){n.authSetting["scope.gameClubData"]?t.getGameClubDataDetail({dataTypeList:e.dataTypeList,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}}):wx.showToast({title:"\u672a\u6388\u6743\u6e38\u620f\u5708\u6570\u636e\u6743\u9650",icon:"error",duration:2e3})},fail:function(t){r.default.consoleData("openSettingErr",JSON.stringify(t)),wx.showToast({title:"\u6388\u6743\u63a5\u53e3\u6253\u5f00\u5931\u5931\u8d25, \u8bf7\u624b\u52a8\u70b9\u51fb\u53f3\u4e0a\u89d2\u4e09\u70b9\u540e\u9009\u62e9\u8bbe\u7f6e\u6309\u94ae,\u8fdb\u5165\u540e\u8bf7\u52fe\u9009\u540c\u610f\u6e38\u620f\u5708\u6570\u636e\u529f\u80fd\u6743\u9650",icon:"error",duration:2e3})}})}})}})},fail:function(t){r.default.consoleData("getSetting err",t),e.fail&&e.fail(t)}})},t.getGameClubDataDetail=function(t){wx.getGameClubData({dataTypeList:t.dataTypeList,success:function(e){r.default.consoleData("getGameClubData success",e),o.default.instance.K_Z.Y_T({encryptedData:e.encryptedData,iv:e.iv,signature:e.signature,success:function(e){r.default.consoleData("decryptRes success",e),t.success&&t.success(e)},fail:function(e){r.default.consoleData("decryptRes err",e),t.fail&&t.fail(e)}})},fail:function(e){r.default.consoleData("getGameClubData error",e),t.fail&&t.fail(e)}})},t.operateGameRecorderVideo=function(){wx.operateGameRecorderVideo()},t.wechatPlatformGiftDeliver=function(t){u.default.instance.J_F({success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},t.showShareImageMenu=function(t){t.imageUrl.includes("https")||t.imageUrl.includes("http")?wx.downloadFile({url:t.imageUrl,success:function(e){wx.showShareImageMenu({path:e.tempFilePath,needShowEntrance:!0,style:"v2",success:function(e){console.log("\u5206\u4eab\u6210\u529f\u56de\u8c03\uff1a",e),t.success&&t.success(e)},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\u56de\u8c03\uff1a",e),t.fail&&t.fail(e)}})}}):wx.showShareImageMenu({path:t.imageUrl,needShowEntrance:!0,style:"v2",success:function(e){console.log("\u5206\u4eab\u6210\u529f\u56de\u8c03\uff1a",e),t.success&&t.success(e)},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\u56de\u8c03\uff1a",e),t.fail&&t.fail(e)}})},t.chooseImage=function(t){var e=t.count?t.count:1;wx.chooseMedia({count:e,mediaType:["image"],sourceType:["album"],sizeType:["compressed"],success:function(e){console.log(e),t.success&&t.success(e)},fail:function(e){console.log("chooseImage\u8c03\u7528\u5931\u8d25\uff1a",e),t.fail&&t.fail(e)}})},t.feedback=function(e){e.filePath&&0<e.filePath.length?t.uploadImageFile({filePath:e.filePath,success:function(t){u.default.instance.D_U({category:e.type,content:e.detail,ids:t,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},fail:function(t){e.fail&&e.fail(t)}}):u.default.instance.D_U({category:e.type,content:e.detail,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},t.uploadImageFile=function(t){var e=[];if(t.filePath&&0<t.filePath.length){for(var n=[],i=function(e){var i=new Promise(function(n){wx.uploadFile({url:l.default.instance.K_T+"/api/upload_file_plain",filePath:t.filePath[e],name:"file",header:l.default.instance.F_Y,formData:{category:"user_feedback",token:u.default.instance.D_Q},success:function(t){console.log("wx.uploadFile success",t);var e=t&&t.data?t.data:"";try{if(e){var i=JSON.parse(e),s=i.d&&i.d.file_id?i.d.file_id:"";n(s)}else n("")}catch(t){n("")}},fail:function(t){console.log("wx.uploadFile fail",t),n("")}})});n.push(i)},s=0;s<t.filePath.length;s++)i(s);Promise.all(n).then(function(n){for(var i=0;i<n.length;i++)n[i]&&e.push(n[i]);console.log("idLists:",e),t.success&&t.success(e)})}else t.success&&t.success(e)},t.openCustomerServiceConversation=function(t){var e={showMessageCard:!1};t.sessionFrom&&(e.sessionFrom=t.sessionFrom),t.showMessageCard&&(e.showMessageCard=t.showMessageCard),t.sendMessageTitle&&(e.sendMessageTitle=t.sendMessageTitle),t.sendMessagePath&&(e.sendMessagePath=t.sendMessagePath),t.sendMessageImg&&(e.sendMessageImg=t.sendMessageImg),wx.openCustomerServiceConversation(i({},e,{success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}}))},t.getABTestInfo=function(t){var e=o.default.instance.S_Y;if(0==t.keys.length)return e?(r.default.consoleData("\u7a7a\u6570\u7ec4\u76f4\u63a5\u8fd4\u56de abTestObj"),void(t.success&&t.success(e))):void(t.fail&&t.fail({m:"keys \u6ca1\u6709\u503c\uff0c\u65e0\u6cd5\u8fd4\u56de"}));var n={};if(e){for(var i=0;i<t.keys.length;i++){var s=t.keys[i];e.hasOwnProperty(s)&&(n[s]=e[s])}r.default.consoleData("obj:",JSON.stringify(n)),t.success&&t.success(n)}else t.fail&&t.fail({m:"abTestObj \u6ca1\u6709\u503c\uff0c\u65e0\u6cd5\u8fd4\u56de"})},t.statAssignAbTestGroup=function(e){t.P_Y.K_Z.R_N({groupFullKey:e.groupFullKey,success:function(t){r.default.consoleData("\u5ba2\u6237\u7aef\u8bbe\u7f6e AB \u6d4b\u8bd5\u5206\u7ec4\u6210\u529f\uff1a"+JSON.stringify(t)),e.success&&e.success(t)},fail:function(t){r.default.consoleData("\u5ba2\u6237\u7aef\u8bbe\u7f6e AB \u6d4b\u8bd5\u5206\u7ec4\u5931\u8d25\uff1a"+JSON.stringify(t)),e.fail&&e.fail(t)}})},t.showCPSRecommend=function(t){return s(this,void 0,void 0,function(){var e,n,i;return a(this,function(){if(!wx.createPageManager)return console.log("\u5f53\u524d\u57fa\u7840\u5e93\u7248\u672c\u6682\u4e0d\u652f\u6301"),[2];e="";try{e=d.default.instance.V_E(t.loc).ad_id}catch(s){}return e?(n=wx.createPageManager(),i={id:e},t.left&&(i.left=t.left),t.top&&(i.top=t.top),t.isVertical&&(i.isVertical=t.isVertical),n.on("error",function(e){console.log("cps recommend component error:",JSON.stringify(e)),t.onError&&t.onError(e)}),n.on("show",function(){console.log("cps recommend component show."),t.onShow&&t.onShow(),f.default.A_W({context:"wx-cps-component",actionName:"show",actText1:t.loc,actText2:e,success:function(){},fail:function(){}})}),n.on("clickgame",function(n){console.log("cps recommend component click\uff1a",n.targetGameName),t.onClick&&t.onClick(n),f.default.A_W({context:"wx-cps-component",actionName:"click",actText1:t.loc,actText2:e,success:function(){},fail:function(){}})}),n.on("destroy",function(){console.log("cps recommend component destroy."),t.onClose&&t.onClose()}),n.show({openlink:"wFFX1cDJnwJCet72QGUJJvBpa9z9lfAob-7EYHwzFENHJ_tNECj5LquvJqnbm82RktAcRyg7gORaUSh0yRSiuYF21JvF84j7-SgazajvTW-ScbwFiQccq8FWsrzHVPox1dr90HHv_CTrgRJD4HOdiRJFeLNRrDu0Pj3vsIGuonI",query:i})):console.error("CPS id \u4e3a\u7a7a\uff0c\u65e0\u6cd5\u52a0\u8f7d"),[2]})})},t.showRecommend=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return wx.createPageManager?((e=wx.createPageManager()).on("error",function(e){t.onError&&t.onError(e)}),[4,e.load({openlink:"TWFRCqV5WeM2AkMXhKwJ03MhfPOieJfAsvXKUbWvQFQtLyyA5etMPabBehga950uzfZcH3Vi3QeEh41xRGEVFw"})]):(console.log("\u5f53\u524d\u57fa\u7840\u5e93\u7248\u672c\u6682\u4e0d\u652f\u6301"),[2]);case 1:return n.sent(),e.on("show",function(){console.log("recommend component show."),f.default.A_W({context:"game-evaluate",actionName:"show",success:function(){},fail:function(){}})}),e.on("destroy",function(e){console.log("recommend component destroy\uff1a",e.isRecommended),t.onClose&&t.onClose(e),f.default.A_W({context:"game-evaluate",actionName:"done",actText1:e.isRecommended?"recommended":"not_recommended",success:function(){},fail:function(){}})}),[4,e.show()];case 2:return n.sent(),[2]}})})},t.initRequirePlugin=function(){try{if("undefined"!=typeof requirePlugin){var t=(0,requirePlugin("MiniGameCommon",{enableRequireHostModule:!0,customEnv:{wx:wx}}).default)();void 0===t||void 0===t.canIUse?console.error("miniGameCommon create error"):GameGlobal.miniGameCommon=t}}catch(t){console.error("\u68c0\u6d4b\u5230YC\u7ec4\u4ef6\u6682\u672a\u6fc0\u6d3b,\u82e5\u9700\u542f\u7528\u8bf7 game.json \u5f15\u5165\uff08\u5f53\u524d\u6838\u5fc3\u529f\u80fd\u4e0d\u53d7\u5f71\u54cd\uff0c\u6b64\u4fe1\u606f\u4ec5\u4f5c\u529f\u80fd\u5b8c\u5584\u63d0\u793a\uff09")}},t.getWXUserLabel=function(t){console.log("loc:"+t.loc);var e=t.loc,n="",i=e,s=0,a=0,o=e+"success",r=_.default.instance.B_S(e);r&&(n=r.desc,console.log("config:",r),r.scene&&(i=r.scene));var c=[];c.push(e),c.push(o),u.default.instance.C_M({keys:c,success:function(t){var r=t.keys_count;r&&(console.log("keysCount",r),s=r[e],a=r[o],console.log("value:"+s),console.log("successValue:"+a),0<s&&setTimeout(function(){if("undefined"!=typeof GameGlobal&&void 0!==GameGlobal.miniGameCommon){var t={gift_scene:i,gift_name:n,gift_value:s,gift_value_success:a};console.log("reportData",t);var e=JSON.stringify(t);GameGlobal.miniGameCommon.getUserLabel({reportData:e,labelId:"iaa_feature"}).then(function(e){console.log("getUserLabel success",e),u.default.instance.C_G({providedInfo:t,labelEncryptedData:e.encryptedData,iv:e.iv,success:function(t){console.log(t)},fail:function(t){console.log(t)}})}).catch(function(t){console.log("getUserLabel fail",t)})}},3e4))},fail:function(){}})},t}();e.default=h},function(t,e,n){var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),c=n(2),u=n(18),l=function(t){function e(){var e=t.call(this)||this;return e.O_G={},e}return s(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0===e.P_Y&&(e.P_Y=new e),e.P_Y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"D_E",{get:function(){return this.O_G},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"E_O",{get:function(){return this._shareRes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"L_L",{get:function(){return this.U_G},enumerable:!0,configurable:!0}),e.prototype.L_D=function(){var t=this;c.default.instance.K_S.forEach(function(e){t.O_G[e]=new u.default,t.O_G[e].F_O(e)})},e.prototype.M_U=function(){var t=this;console.log("\u89e6\u53d1\u5047\u56de\u8c03\u5206\u4eab"),this.E_R&&(this.E_R.shareStatus||setTimeout(function(){t.E_R.finish()},600))},e.prototype.Q_C=function(t,n){this.F_G&&(n.scene=t.scene,n.query=t.query,this._shareRes=n,this._shareRes.query.loc&&(1==this._shareRes.click_status?e.D_S({data:{loc:this._shareRes.query.loc}}):0!=this._shareRes.click_status&&2!=this._shareRes.click_status&&3!=this._shareRes.click_status||e.Y_U({data:{loc:this._shareRes.query.loc}})),this.K_Q&&this.K_Q(this._shareRes))},e.prototype.D_L=function(t){return void 0===t&&(t=!1),a(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return t?[4,this.P_J({data:{loc:"default"}})]:[3,2];case 1:return[2,n.sent()];case 2:return[4,this.P_J({data:{loc:"default"}})];case 3:e=n.sent(),wx.shareAppMessage(e),n.label=4;case 4:return[2]}})})},e.prototype.Z_P=function(t){return t&&this.O_G[t]?this.O_G[t]:null},e.prototype.T_B=function(t){return t?(this.U_G=t,this.O_G[t]?this.O_G[t].Q_E():null):null},e.D_S=function(t){e.instance.O_G[t.data.loc]&&(e.instance.O_G[t.data.loc].S_W(),e.instance.O_G[t.data.loc].V_I())},e.Y_U=function(t){e.instance.O_G[t.data.loc]&&(e.instance.O_G[t.data.loc].I_X(),e.instance.O_G[t.data.loc].P_A())},e.prototype.O_L=function(t){var n=(new Date).getTime();this._sharingTime&&n-this._sharingTime<2e3||(this._sharingTime=n,e.B_K={data:{title:t.title?t.title:null,loc:t.loc,imageUrl:t.imageUrl?t.imageUrl:null,extra:t.extra?t.extra:{},shareType:t.shareType?t.shareType:0},callback:t.callback,success:this.B_Q,fail:this.H_I,finish:this.Z_A},this.U_S(e.B_K))},e.prototype.B_Q=function(t,n){console.log("\u7efc\u5408\u5206\u4eab\u6210\u529f\u5904\u7406",t);var i={share_status:t.share_status,tips:t.tips};0!=t.share_status?e.D_S(n):e.Y_U(n),n.callback&&n.callback(i)},e.prototype.H_I=function(t,n){console.log("\u7efc\u5408\u5206\u4eab\u5931\u8d25\u5904\u7406",t),e.Y_U(n),n.callback&&n.callback({share_status:0,tips:"\u5206\u4eab\u5931\u8d25"})},e.prototype.Z_A=function(t,n){var i={fake_callback_status:t.fake_callback_status,tips:t.tips};1===t.fake_callback_status?e.D_S(n):e.Y_U(n),n.callback&&n.callback(i)},e}(r.default);e.default=l},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(7),r=n(11),c=n(2),u=n(19),l=n(20),_=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=a.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.Q_M=function(t){o.default.instance.K_Q=t},t.E_J=function(e){t.instance.K_Z.E_J(e)},t.D_V=function(e){t.instance.K_Z.D_V(e)},t.G_U=function(e){var n;t.instance.K_Z?(e.loc&&e.start_timestamp&&e.end_timestamp?n={page:e.page,page_size:e.page_size,loc:e.loc,start_timestamp:e.start_timestamp,end_timestamp:e.end_timestamp,include_active_invite:e.include_active_invite}:!e.loc&&e.start_timestamp&&e.end_timestamp?n={page:e.page,page_size:e.page_size,start_timestamp:e.start_timestamp,end_timestamp:e.end_timestamp,include_active_invite:e.include_active_invite}:e.loc||e.start_timestamp||!e.end_timestamp?e.loc||!e.start_timestamp||e.end_timestamp?e.loc&&!e.start_timestamp&&e.end_timestamp?n={page:e.page,page_size:e.page_size,loc:e.loc,start_timestamp:e.end_timestamp,include_active_invite:e.include_active_invite}:!e.loc||e.start_timestamp||e.end_timestamp?e.loc&&e.start_timestamp&&!e.end_timestamp?n={page:e.page,page_size:e.page_size,loc:e.loc,start_timestamp:e.start_timestamp,include_active_invite:e.include_active_invite}:e.loc||e.start_timestamp||e.end_timestamp||(n={page:e.page,page_size:e.page_size,include_active_invite:e.include_active_invite}):n={page:e.page,page_size:e.page_size,loc:e.loc,include_active_invite:e.include_active_invite}:n={page:e.page,page_size:e.page_size,start_timestamp:e.start_timestamp,include_active_invite:e.include_active_invite}:n={page:e.page,page_size:e.page_size,end_timestamp:e.end_timestamp,include_active_invite:e.include_active_invite},t.instance.K_Z.G_U({data:n,option:e})):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getInviteRecords \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.K_E=function(t){o.default.instance.O_L(t)},t.Z_T=function(t){1!=a.default.instance.X_P?r.default.instance.T_Y(t):t.callback({status:1,tips:c.default.instance.E_Q(t.loc).success_tips})},t.P_K=function(t){1!=a.default.instance.X_P?u.default.instance.H_M({loc:t.loc,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}}):t.success({tips:c.default.instance.E_Q(t.loc).success_tips})},t.Z_F=function(e){0==e.choice?u.default.instance.A_D({loc:e.loc,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}}):1==e.choice&&t.K_E({loc:e.loc,extra:e.extra,callback:function(t){if(4==t.share_status||1==t.fake_callback_status){var n={tips:t.tips,type:1};e.success&&e.success(n)}else 2==t.fake_callback_status?e.fail&&e.fail({tips:t.tips,type:4}):e.fail&&e.fail({tips:t.tips,type:1})}})},t.Z_K=function(t){u.default.instance.reportShareBehavior({operation:t.operation,currentShow:t.currentShow,strategy:t.strategy,sceneID:t.sceneID,inviteUser:t.inviteUser,adunit:t.adunit,shareValue:t.shareValue,rewardValue:t.rewardValue,depositAmount:t.depositAmount})},t.H_N=function(t){return i(this,void 0,void 0,function(){var e,n,i;return s(this,function(s){switch(s.label){case 0:return 1!=(e=o.default.instance.T_B(t.loc))?[3,1]:(n=1,t.callback&&t.callback({status:n,tips:"\u53ef\u5206\u4eab"}),[3,9]);case 1:return 2!=e?[3,2]:(c.default.instance.Y_V?(n=2,t.callback&&t.callback({status:n,tips:"\u64ad\u653e\u5e7f\u544a"})):(n=2,t.callback&&t.callback({status:n,tips:c.default.instance.E_Q(t.loc).success_tips})),[3,9]);case 2:return 3!=e?[3,8]:2!=t.defaultChoice?[3,6]:t.isForbidLoad?[3,4]:[4,r.default.instance.K_H(t.loc)];case 3:return(i=s.sent()).status?(n=2,t.callback&&t.callback({status:n,tips:i.tips})):(n=1,t.callback&&t.callback({status:n,tips:"\u53ef\u5206\u4eab"})),[3,5];case 4:n=2,t.callback&&t.callback({status:n,tips:c.default.instance.E_Q(t.loc).success_tips}),s.label=5;case 5:return[3,7];case 6:1==t.defaultChoice?(n=1,t.callback&&t.callback({status:n,tips:"\u53ef\u5206\u4eab"})):(n=3,t.callback&&t.callback({status:n,tips:"\u53ef\u5206\u4eab\u6216\u89c6\u9891"})),s.label=7;case 7:return[3,9];case 8:0==e?(n=0,t.callback&&t.callback({status:n,tips:"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"})):(n=0,t.callback&&t.callback({status:n,tips:"\u627e\u4e0d\u5230\u76f8\u5173\u914d\u7f6e\uff0c\u8bf7\u786e\u8ba4 "+t.loc+" \u662f\u5426\u6709\u914d\u7f6e"})),s.label=9;case 9:return[2]}})})},t.F_I=function(e){var n=a.default.instance.X_P;t.H_N({loc:e.loc,defaultChoice:e.defaultChoice,callback:function(i){var s;1===i.status?t.K_E({loc:e.loc,title:e.title?e.title:null,imageUrl:e.imageUrl?e.imageUrl:null,extra:e.extra?e.extra:{},shareType:e.shareType?e.shareType:0,callback:function(t){console.log("\u5206\u4eab\u56de\u8c03",t),4==t.share_status||1==t.fake_callback_status?(s={tips:t.tips,type:1},e.success&&e.success(s)):2==t.fake_callback_status?e.fail&&e.fail({tips:t.tips,type:4}):e.fail&&e.fail({tips:t.tips,type:1})}}):2===i.status?1==n?(s={tips:c.default.instance.E_Q(e.loc).success_tips,type:2},e.success&&e.success(s)):t.Z_T({loc:e.loc,preCallback:e.preCallback,location:e.location,extra:e.extra?e.extra:void 0,callback:function(t){0==t.status?e.fail&&e.fail({tips:t.tips,type:2}):2==t.status?e.fail&&e.fail({tips:t.tips,type:5}):(s={tips:t.tips,type:2},e.success&&e.success(s))}}):3===i.status?2==e.defaultChoice?1==n?(s={tips:c.default.instance.E_Q(e.loc).success_tips,type:2},e.success&&e.success(s)):t.Z_T({loc:e.loc,preCallback:e.preCallback,location:e.location,extra:e.extra?e.extra:void 0,callback:function(t){0==t.status?e.fail&&e.fail({tips:t.tips,type:2}):2==t.status?e.fail&&e.fail({tips:t.tips,type:5}):(s={tips:t.tips,type:2},e.success&&e.success(s))}}):t.K_E({loc:e.loc,title:e.title?e.title:null,imageUrl:e.imageUrl?e.imageUrl:null,extra:e.extra?e.extra:{},shareType:e.shareType?e.shareType:0,callback:function(t){4==t.share_status||1==t.fake_callback_status?(s={tips:t.tips,type:1},e.success&&e.success(s)):2==t.fake_callback_status?e.fail&&e.fail({tips:t.tips,type:4}):e.fail&&e.fail({tips:t.tips,type:1})}}):0===i.status&&e.fail&&e.fail({tips:i.tips,type:0})}})},t.U_E=function(){r.default.H_P=!1},t.X_A=function(t){l.default.instance.X_A({loc:t.loc,success:function(e){t.success&&t.success(e)},fail:function(e){t.fail&&t.fail(e)}})},t}();e.default=_},function(t,e,n){function i(t){var e=function(t,e){return t<<e|t>>>32-e},n=function(t,e){var n,i,s,a,o;return s=2147483648&t,a=2147483648&e,o=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^o^s^a:n|i?1073741824&o?3221225472^o^s^a:1073741824^o^s^a:o^s^a},i=function(t,i,s,a,o,r,c){var u;return t=n(t,n(n((u=i)&s|~u&a,o),c)),n(e(t,r),i)},s=function(t,i,s,a,o,r,c){var u;return t=n(t,n(n(i&(u=a)|s&~u,o),c)),n(e(t,r),i)},a=function(t,i,s,a,o,r,c){return t=n(t,n(n(i^s^a,o),c)),n(e(t,r),i)},o=function(t,i,s,a,o,r,c){return t=n(t,n(n(s^(i|~a),o),c)),n(e(t,r),i)},r=function(t){var e,n="",i="";for(e=0;e<=3;e++)n+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return n};return function(t){var e,c,u,l,_,f,d,h,p,g=Array();for(g=function(t){for(var e,n=t.length,i=n+8,s=16*((i-i%64)/64+1),a=Array(s-1),o=0,r=0;r<n;)o=r%4*8,a[e=(r-r%4)/4]=a[e]|t.charCodeAt(r)<<o,r++;return o=r%4*8,a[e=(r-r%4)/4]=a[e]|128<<o,a[s-2]=n<<3,a[s-1]=n>>>29,a}(t=function(t){t=t.toString().replace(/\x0d\x0a/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):(127<i&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e}(t)),f=1732584193,d=4023233417,h=2562383102,p=271733878,e=0;e<g.length;e+=16)f=i(c=f,u=d,l=h,_=p,g[e+0],7,3614090360),p=i(p,f,d,h,g[e+1],12,3905402710),h=i(h,p,f,d,g[e+2],17,606105819),d=i(d,h,p,f,g[e+3],22,3250441966),f=i(f,d,h,p,g[e+4],7,4118548399),p=i(p,f,d,h,g[e+5],12,1200080426),h=i(h,p,f,d,g[e+6],17,2821735955),d=i(d,h,p,f,g[e+7],22,4249261313),f=i(f,d,h,p,g[e+8],7,1770035416),p=i(p,f,d,h,g[e+9],12,2336552879),h=i(h,p,f,d,g[e+10],17,4294925233),d=i(d,h,p,f,g[e+11],22,2304563134),f=i(f,d,h,p,g[e+12],7,1804603682),p=i(p,f,d,h,g[e+13],12,4254626195),h=i(h,p,f,d,g[e+14],17,2792965006),d=i(d,h,p,f,g[e+15],22,1236535329),f=s(f,d,h,p,g[e+1],5,4129170786),p=s(p,f,d,h,g[e+6],9,3225465664),h=s(h,p,f,d,g[e+11],14,643717713),d=s(d,h,p,f,g[e+0],20,3921069994),f=s(f,d,h,p,g[e+5],5,3593408605),p=s(p,f,d,h,g[e+10],9,38016083),h=s(h,p,f,d,g[e+15],14,3634488961),d=s(d,h,p,f,g[e+4],20,3889429448),f=s(f,d,h,p,g[e+9],5,568446438),p=s(p,f,d,h,g[e+14],9,3275163606),h=s(h,p,f,d,g[e+3],14,4107603335),d=s(d,h,p,f,g[e+8],20,1163531501),f=s(f,d,h,p,g[e+13],5,2850285829),p=s(p,f,d,h,g[e+2],9,4243563512),h=s(h,p,f,d,g[e+7],14,1735328473),d=s(d,h,p,f,g[e+12],20,2368359562),f=a(f,d,h,p,g[e+5],4,4294588738),p=a(p,f,d,h,g[e+8],11,2272392833),h=a(h,p,f,d,g[e+11],16,1839030562),d=a(d,h,p,f,g[e+14],23,4259657740),f=a(f,d,h,p,g[e+1],4,2763975236),p=a(p,f,d,h,g[e+4],11,1272893353),h=a(h,p,f,d,g[e+7],16,4139469664),d=a(d,h,p,f,g[e+10],23,3200236656),f=a(f,d,h,p,g[e+13],4,681279174),p=a(p,f,d,h,g[e+0],11,3936430074),h=a(h,p,f,d,g[e+3],16,3572445317),d=a(d,h,p,f,g[e+6],23,76029189),f=a(f,d,h,p,g[e+9],4,3654602809),p=a(p,f,d,h,g[e+12],11,3873151461),h=a(h,p,f,d,g[e+15],16,530742520),d=a(d,h,p,f,g[e+2],23,3299628645),f=o(f,d,h,p,g[e+0],6,4096336452),p=o(p,f,d,h,g[e+7],10,1126891415),h=o(h,p,f,d,g[e+14],15,2878612391),d=o(d,h,p,f,g[e+5],21,4237533241),f=o(f,d,h,p,g[e+12],6,1700485571),p=o(p,f,d,h,g[e+3],10,2399980690),h=o(h,p,f,d,g[e+10],15,4293915773),d=o(d,h,p,f,g[e+1],21,2240044497),f=o(f,d,h,p,g[e+8],6,1873313359),p=o(p,f,d,h,g[e+15],10,4264355552),h=o(h,p,f,d,g[e+6],15,2734768916),d=o(d,h,p,f,g[e+13],21,1309151649),f=o(f,d,h,p,g[e+4],6,4149444226),p=o(p,f,d,h,g[e+11],10,3174756917),h=o(h,p,f,d,g[e+2],15,718787259),d=o(d,h,p,f,g[e+9],21,3951481745),f=n(f,c),d=n(d,u),h=n(h,l),p=n(p,_);return(r(f)+r(d)+r(h)+r(p)).toLowerCase()}(t)}n.r(e),n.d(e,"md5",function(){return i})},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),o=n(0),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"F_F",{get:function(){return this.F_D},enumerable:!0,configurable:!0}),t.prototype.U_I=function(){o.default.saveStorage("locCount",JSON.stringify(this.F_D))},t.prototype.V_F=function(){return i(this,void 0,void 0,function(){var t=this;return s(this,function(){return this.F_D={},a.default.instance.K_S.forEach(function(e){t.F_D[e]={share:{},video:{}}}),[2]})})},t}();e.default=r},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(4),r=n(2),c=n(7),u=n(5),l=n(6),_=function(){function t(){this.U_Z=!1,this.S_D=null,this.U_L=!1,this.V_Z=0,this.E_X=0,this.C_L=0,this.F_Q=!1}return Object.defineProperty(t,"instance",{get:function(){return void 0===t.P_Y&&(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),t.prototype.K_H=function(t){var e=this;return new Promise(function(n){if(t)if(r.default.instance.E_Q(t)){e.K_L=r.default.instance.E_Q(t).ad_id;try{n({status:!(e.A_T=null),tips:r.default.instance.E_Q(t).success_tips})}catch(i){e.S_D=!1,n({status:e.S_D,tips:r.default.instance.E_Q(t).no_ad_tips})}}else n({status:!1,tips:"\u5206\u4eab\u4f4d"+t+"\u5bf9\u5e94\u6570\u636e\u4e0d\u5b58\u5728"});else n({status:!1,tips:"\u8bf7\u4f20\u5165\u5206\u4eab\u4f4d\u53c2\u6570"})})},t.prototype.T_Y=function(e){var n=(new Date).getTime();this.D_N&&5e3<n-this.D_N&&this.F_Q&&(this.F_Q=!1),this.F_Q||(this.D_N=n,this.F_Q=!0,this.U_Z=!0,t.instance.U_G=e.loc,this.L_H({data:{loc:e.loc},preCallback:e.preCallback,location:e.location,caller:e.callback,extra:e.extra,callback:this.F_V,failCallback:this.B_Z}))},t.prototype.G_A=function(t,e){return i(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return e?[4,this.S_Q(t.data.loc,"error",e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.S_Q(t.data.loc,"error")];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.L_H=function(e){return i(this,void 0,void 0,function(){var n,_,f,d=this;return s(this,function(h){switch(h.label){case 0:if(""===e.data.loc)return this.F_Q=!1,e.caller&&e.caller.call(this,{status:0,tips:"\u8bf7\u4f20\u5165\u5e7f\u544a\u4f4d"}),[2];if(!window.wx)return e.callback&&(e.caller.call(this,{status:0,tips:"\u975e\u5fae\u4fe1\u5e73\u53f0\u65e0\u6cd5\u64ad\u653e\u89c6\u9891"}),this.A_T=null,this.K_L=null),this.F_Q=!1,[2];if(!wx.createRewardedVideoAd)return e.fail_tips="\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e",e.caller&&e.caller.call(this,{status:0,tips:"\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7\u5347\u7ea7\u7248\u672c"}),this.A_T=null,this.K_L=null,this.F_Q=!1,[2];if(!r.default.instance.E_Q(e.data.loc))return e.caller&&e.caller.call(this,{status:0,tips:"\u5206\u4eab\u4f4d"+e.data.loc+"\u5bf9\u5e94\u6570\u636e\u4e0d\u5b58\u5728"}),[2];this.K_L||(this.K_L=r.default.instance.E_Q(e.data.loc).ad_id),this.A_T||(this.A_T=wx.createRewardedVideoAd({adUnitId:this.K_L})),e.caller||(e.caller=null),e.error||(e.error=this.G_A),e.fail_tips||(e.fail_tips=r.default.instance.E_Q(e.data.loc).no_ad_tips),e.success_tips||(e.success_tips=r.default.instance.E_Q(e.data.loc).success_tips),e.failed_tips||(e.failed_tips=r.default.instance.E_Q(e.data.loc).failed_tips),this.H_S&&this.A_T.offClose(this.H_S),this.E_E&&this.A_T.offError(this.E_E),this.A_T.offLoad(),n=c.default.instance.Z_P(e.data.loc),t.H_P=!0,h.label=1;case 1:return h.trys.push([1,2,,7]),this.E_E=function(n){return i(d,void 0,void 0,function(){return s(this,function(i){switch(i.label){case 0:return a.default.consoleData("video error:"+JSON.stringify(n)),null===this.S_D&&(this.S_D=!1),!1===this.U_Z?[2]:(this.U_Z=!1,t.P_Y.Y_Y=0,[4,t.instance.G_A(e,n)]);case 1:return i.sent(),e.failCallback.call(this,e),this.A_T=null,this.K_L=null,[2]}})})},this.A_T.onError(this.E_E),this.U_L=!1,_=function(n){return i(d,void 0,void 0,function(){var i,r,c;return s(this,function(s){switch(s.label){case 0:if(null===this.S_D&&(this.S_D=!0),t.instance.U_G!=e.data.loc)return this.F_Q=!1,[2];if(this.U_L)return this.F_Q=!1,[2];this.U_L=!0;try{u.default.I_M({adType:"reward",adId:this.K_L})}catch(s){a.default.consoleData("ge \u4e0a\u62a5\u5931\u8d25")}return n.isEnded?(e.callback.call(this,e),i=e.data.loc+"success",[4,o.default.instance.X_B({key:i})]):[3,3];case 1:return s.sent(),l.default.getWXUserLabel({loc:e.data.loc}),[4,this.S_Q(e.data.loc,"end")];case 2:return s.sent(),this.A_T=null,this.K_L=null,[3,5];case 3:return a.default.consoleData("video not end:"+JSON.stringify(n)),e.fail&&e.fail(e),e.fail_tips=null,e.failCallback.call(this,e),[4,this.S_Q(e.data.loc,"not_end")];case 4:s.sent(),this.A_T=null,this.K_L=null,s.label=5;case 5:return r=n.isEnded?1:0,c=e.location,console.log("location:"+c),u.default.A_W({context:"",actionName:"c_reward_video_finish",actText1:e.data.loc,actNum1:r,location:"number"==typeof c&&0<=c&&!isNaN(c)?"v_level_"+c:"",actNum2:e.extra&&e.extra.actNum2?e.extra.actNum2:0,actText2:e.extra&&e.extra.actText2?e.extra.actText2:"",success:function(){},fail:function(){}}),[2]}})})},this.H_S=_,this.A_T.onClose(this.H_S),this.A_T.show().then(function(){e.preCallback&&e.preCallback(),o.default.instance.X_B({key:e.data.loc})}).catch(function(n){a.default.consoleData("show video catch error:"+JSON.stringify(n)),d.A_T.load().then(function(){t.H_P?d.A_T.show().then(function(){e.preCallback&&e.preCallback(),o.default.instance.X_B({key:e.data.loc})}):a.default.consoleData("J_S.H_P false not show")})}),this.Y_Y=(new Date).getTime()/1e3,[3,7];case 2:if(f=h.sent(),!1===this.U_Z)return this.F_Q=!1,[2];this.U_Z=!1,n&&n.E_I(),n&&n.K_P(),h.label=3;case 3:return h.trys.push([3,5,,6]),a.default.consoleData("video error with catch:"+JSON.stringify(f)),[4,t.instance.G_A(e,f)];case 4:case 5:return h.sent(),[3,6];case 6:return e.failCallback.call(this,e),this.A_T=null,this.K_L=null,[3,7];case 7:return[2]}})})},t.prototype.S_Q=function(e,n,a){return void 0===a&&(a={}),i(this,void 0,void 0,function(){var i,r,c,u,l;return s(this,function(s){switch(s.label){case 0:t.instance.C_L=(new Date).getTime()/1e3,s.label=1;case 1:return s.trys.push([1,3,,4]),r={loc:e,ad_id:this.K_L},[4,o.default.instance.M_C(r)];case 2:return i=s.sent(),this.R_H=i.vid,[3,4];case 3:return s.sent(),[3,4];case 4:c=(new Date).getTime()/1e3,u=c-this.Y_Y,0==this.Y_Y&&(u=0),l={loc:e,ad_id:this.K_L,vid:this.R_H,result:n,stay_time:u?parseFloat(u.toFixed(2)):0,display_time:u?parseFloat(u.toFixed(2)):0,ext:a},s.label=5;case 5:return s.trys.push([5,7,,8]),[4,o.default.instance.G_K(l)];case 6:case 7:return s.sent(),[3,8];case 8:return[2]}})})},t.prototype.F_V=function(t){this.F_Q=!1,t.caller&&t.caller({status:1,tips:t.success_tips})},t.prototype.B_Z=function(t){this.F_Q=!1,t.fail_tips?t.caller&&t.caller({status:0,tips:t.fail_tips}):t.caller&&t.caller({status:2,tips:t.failed_tips})},t.H_P=!0,t}();e.default=_},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=n(3),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=i.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.Y_X=function(e){if(t.instance.K_Z){var n=t.instance.K_Z.O_P(),i=e.buyQuantity,a=JSON.stringify(e.gameAttach),o=s.default.P_Y.M_W.platform.toLowerCase();console.log("osPlatform"+o),"android"==o||"windows"==o?t.instance.K_Z.X_C({description:e.description,payMethod:"MIDAS_MINIGAME",totalFee:e.totalFee,gameTradeNo:n,gameAttach:a,serverNo:"",roleName:"",roleLevel:"",midasZoneId:e.zoneId,midasPlatform:o,midasCoinCount:i,midasEnv:"production",success:function(n){console.log(n);var s=n.pay_info.zone_id,o=n.pay_info.platform,r=n.pay_info.offer_id,c=n.trade_no;wx.requestMidasPayment({mode:"game",env:0,offerId:r,currencyType:"CNY",platform:o,buyQuantity:i,zoneId:e.zoneId,success:function(n){console.log(n),t.instance.K_Z.W_T({tradeNo:c,resultCode:0,resultMsg:n.errMsg,success:function(){},fail:function(){t.Q_H({tradeNo:c,resultCode:0,resultMsg:n.errMsg})}});var r=t.instance.K_Z.O_P();t.S_R({zoneId:s,platform:o,coinCount:i,relateTradeNo:c,withdrawUUID:r,midasEnv:"production",isHttpError:!1,gameAttach:a,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},fail:function(n){e.fail&&e.fail(n);var i,s=-111;i=n.errCode?(s=n.errCode,n.errMsg):(s=-111,n.errMsg+":\u5f53\u524d\u5fae\u4fe1\u65e0\u9519\u8bef\u7801\u8fd4\u56de\uff0cSDK \u81ea\u5b9a\u4e49\u6b64\u79cd\u60c5\u51b5\u4e0b result_code \u4e3a -111"),t.instance.K_Z.W_T({tradeNo:c,resultCode:s,resultMsg:i,success:function(){},fail:function(){t.Q_H({tradeNo:c,resultCode:s,resultMsg:i})}})}})},fail:function(t){e.fail&&e.fail(t)}}):"ios"==o&&(t.L_K=e.success,t.C_E=e.fail,t.instance.K_Z.X_C({description:e.description,payMethod:"IPAYNOW_OFFICIAL_ACCOUNT",totalFee:e.totalFee,gameTradeNo:n,gameAttach:a,serverNo:"",roleName:"",roleLevel:"",success:function(n){console.log(JSON.stringify(n)),t.L_C=n.trade_no,wx.openCustomerServiceConversation({sessionFrom:n.pay_info.cs_params.cs_btn_params.sessionFrom,showMessageCard:n.pay_info.cs_params.cs_btn_params.showMessageCard,sendMessageTitle:n.pay_info.cs_params.cs_btn_params.sendMessageTitle,sendMessagePath:n.pay_info.cs_params.cs_btn_params.sendMessagePath,sendMessageImg:n.pay_info.cs_params.cs_btn_params.sendMessageImg,success:function(){t.Z_R=!0},fail:function(t){e.fail&&e.fail(t)}})},fail:function(t){e.fail&&e.fail(t)}}))}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 pay \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.S_R=function(e){var n;n=e.isHttpError?e.withdrawUUID:t.instance.K_Z.O_P(),console.log("L_U.H_B"+t.H_B),t.instance.K_Z.S_R({zoneId:e.zoneId,platform:e.platform,coinCount:e.coinCount,relateTradeNo:e.relateTradeNo,withdrawUUID:n,midasEnv:e.midasEnv,isHttpError:!1,success:function(i){if("SUCCESS"==i.status)t.H_B=0,i.trade_no=e.relateTradeNo,i.game_attach=e.gameAttach,e.success&&e.success(i);else{if(5<t.H_B)return e.fail&&e.fail(i),void(t.H_B=0);t.H_B=t.H_B+1,setTimeout(function(){t.S_R({zoneId:e.zoneId,platform:e.platform,coinCount:e.coinCount,relateTradeNo:e.relateTradeNo,withdrawUUID:n,midasEnv:e.midasEnv,isHttpError:!1,gameAttach:e.gameAttach,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},1e3)}},fail:function(i){if(5<t.H_B)return e.fail&&e.fail(i),void(t.H_B=0);t.H_B=t.H_B+1,10417==i.c?setTimeout(function(){t.S_R({zoneId:e.zoneId,platform:e.platform,coinCount:e.coinCount,relateTradeNo:e.relateTradeNo,withdrawUUID:n,midasEnv:e.midasEnv,isHttpError:!1,gameAttach:e.gameAttach,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},1e3):setTimeout(function(){t.S_R({zoneId:e.zoneId,platform:e.platform,coinCount:e.coinCount,relateTradeNo:e.relateTradeNo,withdrawUUID:n,midasEnv:e.midasEnv,isHttpError:!0,gameAttach:e.gameAttach,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},1e3)}})},t.Q_H=function(e){t.instance.K_Z.W_T({tradeNo:e.tradeNo,resultCode:e.resultCode,resultMsg:e.resultMsg,success:function(){},fail:function(){t.Q_H({tradeNo:e.tradeNo,resultCode:e.resultCode,resultMsg:e.resultMsg})}})},t.V_U=function(e){t.instance.K_Z.V_U({payStatus:e.payStatus,page:e.page,pageSize:e.pageSize,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},t.Q_J=function(e){t.instance.K_Z.Q_J({success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},t.A_L=function(e){t.instance.K_Z.N_O({version:e.version,ext:e.archive,useClientVersion:e.useClientVersion,takeSnapshot:1,success:function(n){var i=n.snapshot_id;t.L_M=0,t.instance.K_Z.A_L({tradeNo:e.tradeNo,assetSnapshotId:i,success:function(t){e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})},fail:function(n){if(5<t.L_M)return e.fail&&e.fail(n),void(t.L_M=0);t.L_M=t.L_M+1,setTimeout(function(){t.A_L({archive:e.archive,version:e.version,useClientVersion:e.useClientVersion,tradeNo:e.tradeNo,success:function(){},fail:function(){}})},1e3)}})},t.F_K=function(){t.instance.K_Z.W_C({tradeNo:t.L_C,success:function(e){if("SUCCESS"==e.pay_status)t.L_K&&t.L_K(e),t.H_B=0,t.Z_R=!1;else if(t.H_B<5)t.H_B=t.H_B+1,setTimeout(function(){t.F_K()},1e3);else{t.H_B=0;var n={payStatus:e.pay_status};t.C_E&&t.C_E(n)}},fail:function(e){t.H_B<5?(t.H_B=t.H_B+1,setTimeout(function(){t.F_K()},1e3)):(t.H_B=0,t.C_E&&t.C_E(e))}})},t.H_U=function(e){var n=[],i={name:e.name,original_val:e.originalVal,current_val:e.currentVal,timestamp_ms:(new Date).getTime(),remark:e.remark};n.push(i),t.instance.K_Z.H_U({changes:n,success:function(){},fail:function(){}})},t.H_B=0,t.L_M=0,t.L_C="",t.Z_R=!1,t}();e.default=a},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),o=n(0),r=n(1),c=n(2),u=n(21),l=n(6),_=n(22),f=n(5),d=n(23),h=n(8),p=n(24),g=n(25),y=n(26),m=n(12),v=n(27),b=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=r.default.instance),t.P_Y},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shareStatus",{get:function(){return c.default.instance.L_F},enumerable:!0,configurable:!0}),Object.defineProperty(t,"locArr",{get:function(){return c.default.instance.K_S},enumerable:!0,configurable:!0}),t.getGameConf=function(t){for(var e={},n=0;n<t.length;n++)c.default.instance.I_V[t[n]]&&(e[t[n]]=c.default.instance.I_V[t[n]].value);return e},Object.defineProperty(t,"gameValue",{get:function(){return c.default.instance.I_V},enumerable:!0,configurable:!0}),Object.defineProperty(t,"banner",{get:function(){return c.default.instance.banner},enumerable:!0,configurable:!0}),t.getShareConfig=function(t){return c.default.instance.H_H(t)},t.getADConfig=function(t){return c.default.instance.E_Q(t)},t.getInteristitialConfig=function(t){return c.default.instance.J_B(t)},t.getBannerConfig=function(t){return c.default.instance.R_M(t)},t.getLocConfig=function(t){return c.default.instance.B_S(t)},t.onShow=function(){wx.onShow(function(t){r.default.wxOnShowRes=t})},Object.defineProperty(t,"getUserConf",{get:function(){return u.default.N_K},enumerable:!0,configurable:!0}),Object.defineProperty(t,"authDurationTime",{set:function(e){t.instance.M_P=e},enumerable:!0,configurable:!0}),t.request=function(e){return i(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,t.instance.K_Z.K_I(e)];case 1:return n.sent(),[2]}})})},t.showConsole=function(t){o.default.instance.showConsole=t},Object.defineProperty(t,"GSDK_VER",{get:function(){return u.default.Z_Q},enumerable:!0,configurable:!0}),t.init=u.default.F_O,t.addUserInfoButton=u.default.Y_Q,t.destroyButton=u.default.W_P,t.isShowLoading=u.default.J_I,t.getClientIp=l.default.getClientIp,t.getIpAndRegion=l.default.getIpAndRegion,t.getServeTime=l.default.getServeTime,t.getDailyCount=l.default.getDailyCount,t.incrDailyCount=l.default.incrDailyCount,t.isAdWhiteList=l.default.isAdWhiteList,t.getUserLabels=l.default.getUserLabels,t.setUserLabels=l.default.setUserLabels,t.getChannelClass=a.default.I_O,t.getPlatform=a.default.I_E,t.getNetwork=a.default.R_L,t.getRecentActiveTime=l.default.getRecentActiveTime,t.createGameClubButton=l.default.createGameClubButton,t.hideGameClubButton=l.default.hideGameClubButton,t.getGameClubData=l.default.getGameClubData,t.operateGameRecorderVideo=l.default.operateGameRecorderVideo,t.showShareImageMenu=l.default.showShareImageMenu,t.chooseImage=l.default.chooseImage,t.feedback=l.default.feedback,t.openCustomerServiceConversation=l.default.openCustomerServiceConversation,t.getABTestInfo=l.default.getABTestInfo,t.showRecommend=l.default.showRecommend,t.showCPSRecommend=l.default.showCPSRecommend,t.statAssignAbTestGroup=l.default.statAssignAbTestGroup,t.getUserArchive=_.default.E_K,t.updateUserArchive=_.default.V_P,t.getGameConfByNetwork=_.default.getGameConfByNetwork,t.getWxUserInfo=_.default.getWxUserInfo,t.getLuckyUsers=_.default.getLuckyUsers,t.qualifiedLevel=_.default.qualifiedLevel,t.setUserPartialAsset=_.default.B_C,t.getUserPartialAsset=_.default.A_V,t.userPartialAssetBatchAtomicInc=_.default.S_S,t.userPartialAssetBatchAtomicIncForUnity=_.default.Y_F,t.reportUserGuide=f.default.Z_S,t.reportSkipGuide=f.default.K_X,t.reportEnterStage=f.default.B_V,t.reportEndStage=f.default.G_X,t.reportCustomEvent=f.default.A_P,t.reportModuleEnter=f.default.K_N,t.reportModuleAction=f.default.H_D,t.reportModuleExit=f.default.B_J,t.reportUserAction=f.default.U_T,t.initGravityEngine=f.default.G_R,t.gravityEngineReport=f.default.H_C,t.gravityEngineUserSet=f.default.G_Z,t.reportGeneralAction=f.default.A_W,t.initTDAnalytics=f.default.A_X,t.setSuperProperties=f.default.E_V,t.track=f.default.V_N,t.userSet=f.default.M_K,t.userAdd=f.default.P_R,t.recordLoadingTimeStart=f.default.C_C,t.recordLoadingTimeEnd=f.default.Z_X,t.recordTimeCostStart=f.default.S_X,t.recordTimeCostEnd=f.default.T_H,t.startGameRecorder=v.default.O_I,t.stopGameRecorder=v.default.J_L,t.pause=v.default.Q_D,t.resume=v.default.N_C,t.updateRankInfo=d.default.K_R,t.getRankInfo=d.default.I_Q,t.addDailySign=d.default.D_B,t.dailySignInfo=d.default.E_N,t.initiateCollectTask=h.default.E_J,t.reportCollectTaskSuccess=h.default.D_V,t.onShareExit=h.default.Q_M,t.getInviteRecords=h.default.G_U,t.showShareMenu=h.default.K_E,t.showAdVideo=h.default.Z_T,t.getShareOrAdStatusByLoc=h.default.H_N,t.showShareOrAdByLoc=h.default.F_I,t.showInterstitialAd=h.default.X_A,t.stopShowVideo=h.default.U_E,t.loadNewAdVideo=h.default.P_K,t.showVideoOrShare=h.default.Z_F,t.reportShareBehavior=h.default.Z_K,t.pay=m.default.Y_X,t.payFinishOrder=m.default.A_L,t.payOrderList=m.default.V_U,t.payUnfinishedOrders=m.default.Q_J,t.reportUserKeyValuesChangeEvent=m.default.H_U,t.navigateToMiniProgram=p.default.X_X,t.getRecommendList=p.default.E_F,t.getRecommendListData=p.default.V_O,t.requestSubscribeMessage=y.default.I_P,t.requestSubscribeMessageV2=y.default.S_O,t.getSubscribeInfo=y.default.O_J,t.wechatPlatformGiftDeliver=l.default.wechatPlatformGiftDeliver,t.GameUtils=o.default,t.LOC_STATUS=g.default.LOC_STATUS,t.FAKE_CALLBACK=g.default.FAKE_CALLBACK,t.VIDEO_STATUS=g.default.VIDEO_STATUS,t.SHARE_STATUS=g.default.SHARE_STATUS,t.NAVIGATE_TO_PROGRAM_FAIL=g.default.NAVIGATE_TO_PROGRAM_FAIL,t.NAVIGATE_TO_PROGRAM_SUCCESS=g.default.NAVIGATE_TO_PROGRAM_SUCCESS,t.LOAD_ERROR_CODE=g.default.LOAD_ERROR_CODE,t.COMMON_CODE=g.default.COMMON_CODE,t.PAYSTATUS=g.default.PAYSTATUS,t.APP_ENV="wechat",t}();window.LWGSDK=b,e.default=b},function(t,e,n){var i,s=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(15),o=n(3),r=n(4),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.T_F=0,e.C_U=!1,e}return s(e,t),e.prototype.F_O=function(){this.B_U=o.default.instance;var t=this.B_U.R_V.split("-");this.S_K=t[0]},e.prototype.P_B=function(){var t=(new Date).getTime();return Math.ceil(t/1e3)},e.prototype.S_L=function(t,e){return t&&t.startsWith("/")?e+t:t},e.prototype.D_O=function(t){var e=this;if(!this.B_U||!this.B_U.Y_A)return console.error("\u5e73\u53f0\u6709\u8bef\u6216\u8005\u53c2\u6570\u6ca1\u6709\u521d\u59cb\u5316\u5b8c\u6210"),void t.fail({c:10014,m:"\u5e73\u53f0\u6709\u8bef\u6216\u8005\u53c2\u6570\u6ca1\u6709\u521d\u59cb\u5316\u5b8c\u6210"});clearInterval(this.S_M),this.S_M=null,this.T_F=0;var n=t.success,i=t.fail;if((["/api/auth/login_v5","/api/ip","/api/ip_region","/api/timestamp"].includes(t.url)||r.default.instance.D_Q)&&(!this.C_U||"/api/auth/session_key/refresh"==t.url)){if(t.data.t=this.P_B(),t.url=this.S_L(t.url,this.B_U.K_T),t.data.req_id||(t.data.req_id=r.default.instance.O_P()),t.header||(t.header=this.B_U.F_Y),t.data.token=r.default.instance.D_Q,t.useHighPerformanceMode=!0,t.enableHttp2=!0,t.enableQuic=!0,t.crypto){if(!(this.B_U.U_U&&this.B_U.U_K||this.B_U.N_P))return console.error("\u8c03\u7528\u987a\u5e8f\u9519\u8bef\uff01\u8bf7\u786e\u8ba4\u8c03\u7528 "+t.url+" \u662f\u5728\u521d\u59cb\u5316\u6210\u529f\u56de\u8c03\u4e4b\u540e\uff01"),void t.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 "+t.url+" \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"});if(!this.B_U.U_U||!this.B_U.U_K)return console.error("session\u4e0d\u5b58\u5728\uff0c\u8bf7\u786e\u8ba4seesion\u83b7\u53d6\u662f\u5426\u5b58\u5728"),void t.fail({c:10015,m:"session\u4e0d\u5b58\u5728\uff0c\u8bf7\u786e\u8ba4seesion\u83b7\u53d6\u662f\u5426\u5b58\u5728"});t.data=this.I_W(t.data)}return t.success=function(s){var a;if(t.crypto||t.resCrypto){if(!(e.B_U.U_U&&e.B_U.U_K||e.B_U.N_P))return console.error("\u8c03\u7528\u987a\u5e8f\u9519\u8bef\uff01\u8bf7\u786e\u8ba4\u8c03\u7528 "+t.url+" \u662f\u5728\u521d\u59cb\u5316\u6210\u529f\u56de\u8c03\u4e4b\u540e\uff01"),void t.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 "+t.url+" \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"});if(!e.B_U.U_U||!e.B_U.U_K)return console.error("session\u4e0d\u5b58\u5728\uff0c\u8bf7\u786e\u8ba4seesion\u83b7\u53d6\u662f\u5426\u5b58\u5728"),void t.fail({c:10015,m:"session\u4e0d\u5b58\u5728\uff0c\u8bf7\u786e\u8ba4seesion\u83b7\u53d6\u662f\u5426\u5b58\u5728"});a=e.Z_Y(s.data)}else a=s.data;0===a.c&&n?n(a.d?a.d:a):i&&i(a)},t.fail=function(t){i&&i(t)},wx.request(t)}},e.prototype.C_W=function(t){return t.method="POST",this.D_O(t)},e.prototype.X_D=function(t){return t.method="GET",this.D_O(t)},e.prototype.Y_W=function(t){return t.method="PUT",this.D_O(t)},e.prototype.P_U=function(t){return t.method="DELETE",this.D_O(t)},e.prototype.P_S=function(t){return this.D_O(t)},e}(a.default);e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=n(9),a=n(16),o=function(){function t(){this.A_O=null}return t.prototype.D_J=function(){return s.md5(i.default.instance.R_V+i.default.instance.U_U+i.default.instance.U_K).toUpperCase().slice(0,16)},t.prototype.I_W=function(t){var e=this.D_J(),n=JSON.stringify(t);if("undefined"!=typeof fflate&&1024<=n.length){console.log("\u4f7f\u7528 zlib");var i=unescape(encodeURIComponent(n)),s=Uint8Array.from(i,function(t){return t.charCodeAt(0)}),o=fflate.zlibSync(s),r=String.fromCharCode.apply(null,o);return{data:a.default.encryptZlibToBase64(r,e),compress:"zlib"}}return{data:a.default.encryptToBase64(n,e)}},t.prototype.Z_Y=function(t){var e=this.D_J();try{var n=a.default.decryptFromBase64(t.data,e);return JSON.parse(n)}catch(t){return{c:900001,m:"\u89e3\u5bc6\u540e\u7684 data \u65e0\u6cd5 JSON parse"}}},t}();e.default=o},function(t,e,n){function i(t){var e,n,i,s,a,o,r,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");for(n=i=0,s=t.length,o=(s-=a=s%3)/3<<2,0<a&&(o+=4),e=new Array(o);n<s;)r=t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<8|t.charCodeAt(n++),e[i++]=c[r>>18]+c[r>>12&63]+c[r>>6&63]+c[63&r];return 1==a?(r=t.charCodeAt(n++),e[i++]=c[r>>2]+c[(3&r)<<4]+"=="):2==a&&(r=t.charCodeAt(n++)<<8|t.charCodeAt(n++),e[i++]=c[r>>10]+c[r>>4&63]+c[(15&r)<<2]+"="),e.join("")}n.r(e);var s=2654435769;function a(t,e){var n=t.length,i=n<<2;if(e){var s=t[n-1];if(s<(i-=4)-3||i<s)return null;i=s}for(var a=0;a<n;a++)t[a]=String.fromCharCode(255&t[a],t[a]>>>8&255,t[a]>>>16&255,t[a]>>>24&255);var o=t.join("");return e?o.substring(0,i):o}function o(t,e){var n,i=t.length,s=i>>2;0!=(3&i)&&++s,e?(n=new Array(s+1))[s]=i:n=new Array(s);for(var a=0;a<i;++a)n[a>>2]|=t.charCodeAt(a)<<((3&a)<<3);return n}function r(t){return 4294967295&t}function c(t,e,n,i,s,a){return(n>>>5^e<<2)+(e>>>3^n<<4)^(t^e)+(a[3&i^s]^n)}function u(t){return t.length<4&&(t.length=4),t}function l(t,e){var n,i,a,o,u,l,_=t.length,f=_-1;for(i=t[f],l=(a=0)|Math.floor(6+52/_);0<l;--l){for(o=(a=r(a+s))>>>2&3,u=0;u<f;++u)n=t[u+1],i=t[u]=r(t[u]+c(a,n,i,u,o,e));n=t[0],i=t[f]=r(t[f]+c(a,n,i,f,o,e))}return t}function _(t){if(/^[\x00-\x7f]*$/.test(t))return t;for(var e=[],n=t.length,i=0,s=0;i<n;++i,++s){var a=t.charCodeAt(i);if(a<128)e[s]=t.charAt(i);else if(a<2048)e[s]=String.fromCharCode(192|a>>6,128|63&a);else{if(!(a<55296||57343<a)){if(i+1<n){var o=t.charCodeAt(i+1);if(a<56320&&56320<=o&&o<=57343){var r=65536+((1023&a)<<10|1023&o);e[s]=String.fromCharCode(240|r>>18&63,128|r>>12&63,128|r>>6&63,128|63&r),++i;continue}}throw new Error("Malformed string")}e[s]=String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)}}return e.join("")}function f(t,e){return(null==e||e<0)&&(e=t.length),0===e?"":/^[\x00-\x7f]*$/.test(t)||!/^[\x00-\xff]*$/.test(t)?e===t.length?t:t.substr(0,e):e<32767?function(t,e){for(var n=new Array(e),i=0,s=0,a=t.length;i<e&&s<a;i++){var o=t.charCodeAt(s++);switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[i]=o;break;case 12:case 13:if(!(s<a))throw new Error("Unfinished UTF-8 octet sequence");n[i]=(31&o)<<6|63&t.charCodeAt(s++);break;case 14:if(!(s+1<a))throw new Error("Unfinished UTF-8 octet sequence");n[i]=(15&o)<<12|(63&t.charCodeAt(s++))<<6|63&t.charCodeAt(s++);break;case 15:if(!(s+2<a))throw new Error("Unfinished UTF-8 octet sequence");var r=((7&o)<<18|(63&t.charCodeAt(s++))<<12|(63&t.charCodeAt(s++))<<6|63&t.charCodeAt(s++))-65536;if(!(0<=r&&r<=1048575))throw new Error("Character outside valid Unicode range: 0x"+r.toString(16));n[i++]=r>>10&1023|55296,n[i]=1023&r|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+o.toString(16))}}return i<e&&(n.length=i),String.fromCharCode.apply(String,n)}(t,e):function(t,e){for(var n=[],i=new Array(32768),s=0,a=0,o=t.length;s<e&&a<o;s++){var r=t.charCodeAt(a++);switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i[s]=r;break;case 12:case 13:if(!(a<o))throw new Error("Unfinished UTF-8 octet sequence");i[s]=(31&r)<<6|63&t.charCodeAt(a++);break;case 14:if(!(a+1<o))throw new Error("Unfinished UTF-8 octet sequence");i[s]=(15&r)<<12|(63&t.charCodeAt(a++))<<6|63&t.charCodeAt(a++);break;case 15:if(!(a+2<o))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&r)<<18|(63&t.charCodeAt(a++))<<12|(63&t.charCodeAt(a++))<<6|63&t.charCodeAt(a++))-65536;if(!(0<=c&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));i[s++]=c>>10&1023|55296,i[s]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+r.toString(16))}if(32766<=s){var u=s+1;i.length=u,n[n.length]=String.fromCharCode.apply(String,i),e-=u,s=-1}}return 0<s&&(i.length=s,n[n.length]=String.fromCharCode.apply(String,i)),n.join("")}(t,e)}function d(t,e){return null==t||0===t.length?t:(t=_(t),e=_(e),a(l(o(t,!0),u(o(e,!1))),!1))}function h(t,e){return null==t||0===t.length?t:(e=_(e),f(a(function(t,e){var n,i,a,o,u,l=t.length,_=l-1;for(n=t[0],a=r(Math.floor(6+52/l)*s);0!==a;a=r(a-s)){for(o=a>>>2&3,u=_;0<u;--u)i=t[u-1],n=t[u]=r(t[u]-c(a,n,i,u,o,e));i=t[_],n=t[0]=r(t[0]-c(a,n,i,0,o,e))}return t}(o(t,!1),u(o(e,!1))),!0)))}e.default={utf8Encode:_,utf8Decode:f,encrypt:d,encryptToBase64:function(t,e){return i(d(t,e))},encryptZlibToBase64:function(t,e){return i((s=e,null==(n=t)||0===n.length?n:(s=_(s),a(l(o(n,!0),u(o(s,!1))),!1))));var n,s},decrypt:h,decryptFromBase64:function(t,e){return null==t||0===t.length?t:h(function(t){var e,n,i,s,a,o,r,c,u,l,_=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];if((r=t.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(t))return"";for(u=r,0<(c="="==t.charAt(r-2)?1:"="==t.charAt(r-1)?2:0)&&(u-=4),u=3*(u>>2)+c,l=new Array(u),a=o=0;a<r&&-1!=(e=_[t.charCodeAt(a++)])&&-1!=(n=_[t.charCodeAt(a++)])&&(l[o++]=String.fromCharCode(e<<2|(48&n)>>4),-1!=(i=_[t.charCodeAt(a++)]))&&(l[o++]=String.fromCharCode((15&n)<<4|(60&i)>>2),-1!=(s=_[t.charCodeAt(a++)]));)l[o++]=String.fromCharCode((3&i)<<6|s);return l.join("")}(t),e)}}},function(t,e,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=n(0),c=n(6),u=function(){function t(){this.K_Z=o.default.instance}return t.prototype.U_S=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,(e=this).T_P(t)];case 1:return e.E_R=n.sent(),this.E_R.shareStatus=!1,t.data&&0==t.data.shareType?c.default.showShareImageMenu(this.E_R):t.data&&1==t.data.shareType?wx.shareAppMessage(this.E_R):c.default.showShareImageMenu(this.E_R),[2]}})})},t.prototype.P_J=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,(e=this).T_P(t)];case 1:return e.E_R=n.sent(),[2,this.E_R]}})})},t.prototype.T_P=function(t){var e=this;return new Promise(function(n,o){return s(e,void 0,void 0,function(){var e,s,r,c,u,l,_;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.K_D=null,t.data.loc||(t.data.loc="default"),e=this.I_R(),t.success||(t.success=e.success),t.fail||(t.fail=e.fail),t.onHttpError||(t.onHttpError=e.onHttpError),t.finish||(t.finish=e.finish),[4,this.K_Z.X_S(i({},t.data))];case 1:for((s=a.sent()).query&&(t.query=s.query),r={},c=s.query.split("&"),u=0;u<c.length;u++)l=c[u].split("="),r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]);return t.shareParamsObj||(t.shareParamsObj=r),t.share_id||(t.share_id=r.share_id),t.title||(t.title=r.title),t.data&&t.data.title&&(t.title=t.data.title),t.t||(t.t=(new Date).getTime()),t.caller||(t.caller=null),t.data&&t.data.imageUrl?t.imageUrl=t.data.imageUrl:r.mp_image_url_id&&r.mp_image_url?(t.imageUrlId||(t.imageUrlId=r.mp_image_url_id),t.imageUrl||(t.imageUrl=r.mp_image_url)):t.imageUrl||(t.imageUrl=r.image_url),n(i({},t,{success:this.Y_L(t),fail:this.O_U(t),finish:this.Z_M(t),caller:null,cancel:this.D_W(t)})),[3,3];case 2:return _=a.sent(),o(_),[3,3];case 3:return[2]}})})})},t.prototype.Y_L=function(t){var e=this;return function(n){console.log("\u65e7\u7248\u5206\u4eab\u6210\u529f\u56de\u8c03"),null==e.K_D&&(e.K_D="success",console.log("this.K_D",e.K_D),e.Q_Y(t,e.K_D,n,{}))}},t.prototype.O_U=function(t){var e=this;return function(n){console.log("\u65e7\u7248\u5206\u4eab\u5931\u8d25\u56de\u8c03"),null==e.K_D&&(e.K_D="fail",e.Q_Y(t,e.K_D,n,{}))}},t.prototype.D_W=function(t){var e=this;return function(){null==e.K_D&&(e.K_D="fail",e.Q_Y(t,e.K_D,{},{}))}},t.prototype.Z_M=function(t){var e=this;return function(){null==e.K_D&&(e.K_D="finished",e.Q_Y(t,e.K_D,{},{}))}},t.prototype.Q_Y=function(t,e,n,i){return s(this,void 0,void 0,function(){var s,o,r;return a(this,function(a){switch(a.label){case 0:console.log("\u5206\u4eab\u4e0a\u62a5",e,n),this.E_R.shareStatus=!0,s=t.data&&0==t.data.shareType?{query:t.shareParamsObj,st_iv:i.iv,st_encrypted_data:i.encryptedData,status:e,stay_time:(((new Date).getTime()-t.t)/1e3).toFixed(2),poster_share:1}:t.data&&1==t.data.shareType?{query:t.shareParamsObj,st_iv:i.iv,st_encrypted_data:i.encryptedData,status:e,stay_time:(((new Date).getTime()-t.t)/1e3).toFixed(2)}:{query:t.shareParamsObj,st_iv:i.iv,st_encrypted_data:i.encryptedData,status:e,stay_time:(((new Date).getTime()-t.t)/1e3).toFixed(2),poster_share:1},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.K_Z.Q_Y(s)];case 2:return o=a.sent(),"success"===e&&t.success?t.success.call(this,o,t):"fail"===e&&t.fail?t.fail.call(this,o,t):"finished"===e&&t.finish&&t.finish.call(this,o,t),[3,4];case 3:return r=a.sent(),"success"===e&&t.onHttpError?(t.fail_tips="\u7f51\u7edc\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01",t.fail.call(this,r,t)):"fail"===e&&t.fail?t.fail.call(this,r,t):"finished"===e&&t.finish&&t.finish.call(this,r,t),[3,4];case 4:return[2]}})})},t.prototype.I_R=function(){return{success:function(){},finish:function(){},fail:function(){},onHttpError:function(){r.default.showToast("\u7f51\u7edc\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01")}}},t}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i,s,a,o=n(2),r=n(10),c=n(3);(s=i=e.StrategyStatus||(e.StrategyStatus={}))[s.Close=0]="Close",s[s.Share=1]="Share",s[s.Video=2]="Video",s[s.Both=3]="Both",(a=e.shareLoc||(e.shareLoc={})).REVIVE="revive",a.DOUBLE_REWARD="double_reward",a.INCREASE_COIN="increase_coin",a.SHORTEN_TIME="shorten_time",a.TRIAL_TANK="trial_tank",a.DOUBLE_SIGN="double_sign";var u=function(){function t(){this.A_F=0,this.O_D=0,this.Q_N=0,this.R_X=0,this.Y_D=0,this.B_Y=0,this.J_E=0,this.I_G=0,this.E_U=!0,this.N_T=0}return t.prototype.F_O=function(t){this.N_H(t)},t.prototype.N_H=function(t){var e=new Date;this.F_J=e.getMonth()+"/"+e.getDate();var n=o.default.instance.B_S(t);this.V_V=n,this.N_T=o.default.instance.Y_V,this.V_V&&this.V_V.config&&this.V_V.config.ad_count_type&&"success"!=this.V_V.config.ad_count_type?this.Y_H=this.V_V.config.ad_count_type:this.Y_H="success",this.M_N()},t.prototype.U_I=function(t,e,n,i,s){var a;t&&n&&i&&s&&(r.default.instance.F_F[t]||(r.default.instance.F_F[t]=((a={})[e]={},a)),r.default.instance.F_F[t][e]||(r.default.instance.F_F[t][e]={}),r.default.instance.F_F[t][e][n]=i,r.default.instance.F_F[t].day=s,r.default.instance.U_I())},t.prototype.M_N=function(){switch(this.V_V.strategy){case"AD_ONLY":case"SHARE_ONLY":case"BOTH_AD_AND_SHARE":break;case"N_TIME_AD_FIRST":if("day"==this.V_V.config.period&&(this.E_U=!0,(e=r.default.instance.F_F)&&e[this.V_V.loc])){var t=e[this.V_V.loc].share;this.F_J==e[this.V_V.loc].day&&t&&t.ad&&(this.J_E=t.ad)}this.I_G=this.V_V.config.show_ad_times;break;case"N_SHARE_FIRST":"day"==this.V_V.config.period&&(this.E_U=!0,(e=r.default.instance.F_F)&&e[this.V_V.loc]&&(t=e[this.V_V.loc].share,this.F_J==e[this.V_V.loc].day&&(t&&t.shareS&&(this.A_F=t.shareS),t&&t.shareF&&(this.O_D=t.shareF)))),this.Q_N=this.V_V.config.success_times,this.R_X=this.V_V.config.fail_times;break;case"AD_AFTER_N_SHARE_CONTINUOUSLY_FAIL":"day"==this.V_V.config.period&&(this.E_U=!0,(e=r.default.instance.F_F)&&e[this.V_V.loc]&&(t=e[this.V_V.loc].share,this.F_J==e[this.V_V.loc].day&&t&&t.sc&&(this.Y_D=t.sc))),this.B_Y=this.V_V.config.continuously_fail_times;break;case"N_SHARE_FIRST,AD_AFTER_N_SHARE_CONTINUOUSLY_FAIL":var e;"day"==this.V_V.config.period&&(this.E_U=!0,(e=r.default.instance.F_F)&&e[this.V_V.loc]&&(t=e[this.V_V.loc].share,this.F_J==e[this.V_V.loc].day&&(t&&t.shareS&&(this.A_F=t.shareS),t&&t.shareF&&(this.O_D=t.shareF),t&&t.sc&&(this.Y_D=t.sc)))),this.Q_N=this.V_V.config.success_times,this.R_X=this.V_V.config.fail_times,this.B_Y=this.V_V.config.continuously_fail_times}},t.prototype.Q_E=function(){if(!this.V_V.status)return i.Close;switch(this.V_V.strategy){case"AD_ONLY":return i.Video;case"SHARE_ONLY":return i.Share;case"BOTH_AD_AND_SHARE":return this.N_T?i.Video:i.Both;case"N_TIME_AD_FIRST":return this.J_E>=this.I_G||c.default.instance.isVideoRunout?this.N_T?i.Close:i.Share:i.Video;case"N_SHARE_FIRST":return this.O_D>=this.R_X||this.A_F>=this.Q_N?c.default.instance.isVideoRunout?this.N_T?i.Close:i.Share:i.Video:this.N_T?i.Close:i.Share;case"AD_AFTER_N_SHARE_CONTINUOUSLY_FAIL":return this.Y_D>=this.B_Y?c.default.instance.isVideoRunout?this.N_T?i.Close:i.Share:i.Video:this.N_T?i.Close:i.Share;case"N_SHARE_FIRST,AD_AFTER_N_SHARE_CONTINUOUSLY_FAIL":return this.Y_D>=this.B_Y||this.O_D>=this.R_X||this.A_F>=this.Q_N?c.default.instance.isVideoRunout?this.N_T?i.Close:i.Share:i.Video:this.N_T?i.Close:i.Share;case"AD_SHARE_IN_TURN":var t=i.Close;return this.V_V.config&&("ad"===this.V_V.config.start?this.J_E>=this.V_V.config.ad_times||c.default.instance.isVideoRunout?(t=this.N_T?i.Video:i.Share,this.J_E=0,this.V_V.config.start="share"):t=i.Video:"share"===this.V_V.config.start&&(this.A_F>=this.V_V.config.share_times&&!c.default.instance.isVideoRunout?(t=i.Video,this.A_F=0,this.V_V.config.start="ad"):t=this.N_T?i.Video:i.Share)),t;default:return i.Close}},t.prototype.S_W=function(){this.A_F++,this.E_U&&this.U_I(this.V_V.loc,"share","shareS",this.A_F,this.F_J)},t.prototype.I_X=function(){this.O_D++,this.E_U&&this.U_I(this.V_V.loc,"share","shareF",this.O_D,this.F_J)},Object.defineProperty(t.prototype,"adCountType",{get:function(){return this.Y_H},enumerable:!0,configurable:!0}),t.prototype.E_I=function(){this.J_E++,this.E_U&&this.U_I(this.V_V.loc,"video","ad",this.J_E,this.F_J)},t.prototype.P_A=function(){this.Y_D++,this.E_U&&this.U_I(this.V_V.loc,"share","sc",this.Y_D,this.F_J)},t.prototype.V_I=function(){this.Y_D=0,this.E_U&&this.U_I(this.V_V.loc,"share","sc",this.Y_D,this.F_J)},t.prototype.K_P=function(){c.default.instance.isVideoRunout=!0},t}();e.default=u},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(4),r=n(2),c=function(){function t(){this.C_L=0,this.V_W=!0}return Object.defineProperty(t,"instance",{get:function(){return void 0===t.P_Y&&(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),t.prototype.H_M=function(e){var n=this;if(t.instance.U_G=e.loc,""!==e.loc){if(!window.wx)return e.fail&&e.fail({c:2,tips:"\u975e\u5fae\u4fe1\u5e73\u53f0\u65e0\u6cd5\u64ad\u653e\u89c6\u9891"}),void(this.A_T=null);if(r.default.instance.E_Q(e.loc)){this.K_L||(this.K_L=r.default.instance.E_Q(e.loc).ad_id),this.A_T&&(a.default.consoleData("\u6467\u6bc1 videoAd \u5bf9\u8c61"),this.A_T.destory()),this.A_T=wx.createRewardedVideoAd({adUnitId:this.K_L,multiton:!0}),this.H_S&&this.A_T.offClose(this.H_S),this.P_T&&this.A_T.offError(this.P_T),this.Y_O&&this.A_T.offLoad(this.Y_O),this.V_W=!0;try{this.P_T=function(n){t.P_Y.Y_Y=0,a.default.consoleData("video error:"+JSON.stringify(n)),e.fail&&e.fail(n),t.instance.G_A(e,n)},this.A_T.onError(this.P_T),this.Y_O=function(t){n.V_W&&(e.success&&e.success(t),n.V_W=!1)},this.A_T.onLoad(this.Y_O),this.A_T.load()}catch(t){}}else e.fail&&e.fail({c:4,tips:"\u5206\u4eab\u4f4d"+e.loc+"\u5bf9\u5e94\u6570\u636e\u4e0d\u5b58\u5728"})}else e.fail&&e.fail({c:1,tips:"\u8bf7\u4f20\u5165\u5e7f\u544a\u4f4d"})},t.prototype.A_D=function(t){var e=this;this.A_T&&(this.H_S=function(n){return i(e,void 0,void 0,function(){var e,i;return s(this,function(s){switch(s.label){case 0:return n.isEnded?(e=r.default.instance.E_Q(t.loc).success_tips,t.success&&t.success({success_tips:e}),[4,this.S_Q(t.loc,"end")]):[3,2];case 1:return s.sent(),[3,4];case 2:return a.default.consoleData("video not end:"+JSON.stringify(n)),i=r.default.instance.E_Q(t.loc).failed_tips,t.fail&&t.fail({failed_tips:i}),[4,this.S_Q(t.loc,"not_end")];case 3:s.sent(),s.label=4;case 4:return[2]}})})},this.Y_Y=(new Date).getTime()/1e3,this.A_T.onClose(this.H_S),this.A_T.show())},t.prototype.G_A=function(t,e){return i(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return e?[4,this.S_Q(t.loc,"error",e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.S_Q(t.loc,"error")];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.S_Q=function(e,n,a){return void 0===a&&(a={}),i(this,void 0,void 0,function(){var i,r,c,u,l;return s(this,function(s){switch(s.label){case 0:t.instance.C_L=(new Date).getTime()/1e3,s.label=1;case 1:return s.trys.push([1,3,,4]),r={loc:e,ad_id:this.K_L},[4,o.default.instance.M_C(r)];case 2:return i=s.sent(),this.R_H=i.vid,[3,4];case 3:return s.sent(),[3,4];case 4:c=(new Date).getTime()/1e3,u=c-this.Y_Y,0==this.Y_Y&&(u=0),l={loc:e,ad_id:this.K_L,vid:this.R_H,result:n,stay_time:u?parseFloat(u.toFixed(2)):0,display_time:u?parseFloat(u.toFixed(2)):0,ext:a},s.label=5;case 5:return s.trys.push([5,7,,8]),[4,o.default.instance.G_K(l)];case 6:case 7:return s.sent(),[3,8];case 8:return[2]}})})},t.prototype.reportShareBehavior=function(t){try{if(1==t.operation||2==t.operation||3==t.operation||4==t.operation||5==t.operation){var e=this.A_T.reportShareBehavior({operation:t.operation,currentShow:t.currentShow,strategy:t.strategy,adunit:t.adunit,sceneID:t.sceneID,shareValue:t.shareValue,rewardValue:t.rewardValue});console.log("wx \u4e0a\u62a5 result",e)}else 6==t.operation&&(t.depositAmount?(e=this.A_T.reportShareBehavior({operation:t.operation,inviteUser:t.inviteUser,adunit:t.adunit,sceneID:t.sceneID,shareValue:t.shareValue,rewardValue:t.rewardValue,depositAmount:t.depositAmount}),console.log("wx \u4e0a\u62a5 result",e)):(e=this.A_T.reportShareBehavior({operation:t.operation,inviteUser:t.inviteUser,adunit:t.adunit,sceneID:t.sceneID,shareValue:t.shareValue,rewardValue:t.rewardValue}),console.log("wx \u4e0a\u62a5 result",e)))}catch(t){console.log("wx \u4e0d\u5b58\u5728\u6b64\u65b9\u6cd5")}},t}();e.default=c},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(4),r=n(2),c=function(){function t(){this.C_L=0}return Object.defineProperty(t,"instance",{get:function(){return void 0===t.P_Y&&(t.P_Y=new t),t.P_Y},enumerable:!0,configurable:!0}),t.prototype.X_A=function(t){var e=this,n=(new Date).getTime()/1e3;""!==t.loc?r.default.instance.J_B(t.loc)?(this.K_L=r.default.instance.J_B(t.loc).ad_id,this.D_N=n,this.L_X=wx.createInterstitialAd({adUnitId:this.K_L}),this.S_B&&this.L_X.offClose(this.S_B),this.P_T&&this.L_X.offError(this.P_T),this.Y_O&&this.L_X.offLoad(this.Y_O),this.Y_O=function(){a.default.consoleData("\u52a0\u8f7d\u63d2\u5c4f\u6210\u529f=============="),e.L_X.show().then(function(){a.default.consoleData("\u64ad\u653e\u63d2\u5c4f\u6210\u529f=============="),t.success&&t.success({})}).catch(function(t){a.default.consoleData("\u64ad\u653e\u63d2\u5c4f\u5931\u8d25=============="+JSON.stringify(t))})},this.L_X.onLoad(this.Y_O),this.S_B=function(){a.default.consoleData("\u5173\u95ed\u63d2\u5c4f\u6210\u529f=============="),e._adReport(t.loc,0),e.L_X.destroy()},this.L_X.onClose(this.S_B),this.P_T=function(n){a.default.consoleData("\u52a0\u8f7d\u63d2\u5c4f\u5931\u8d25==============",""+JSON.stringify(n)),t.fail&&t.fail(n),e._adReport(t.loc,1e3,n)},this.L_X.onError(this.P_T)):t.fail&&t.fail(this,{status:0,tips:"\u5206\u4eab\u4f4d"+t.loc+"\u5bf9\u5e94\u6570\u636e\u4e0d\u5b58\u5728"}):t.fail&&t.fail({status:1,tips:"\u8bf7\u4f20\u5165\u6b63\u786e\u7684 loc"})},t.prototype._adReport=function(t,e,n){return void 0===n&&(n={}),i(this,void 0,void 0,function(){var i,r,c,u,l,_,f,d,h,p;return s(this,function(s){switch(s.label){case 0:this.C_L=(new Date).getTime()/1e3,s.label=1;case 1:return s.trys.push([1,3,,4]),r=[],c=1e3!=e?{ad_id:this.K_L,ad_platform:"mp",ad_type:"interstitial",apply_result:1,apply_timestamp:parseFloat(this.D_N.toFixed(2))}:{ad_id:this.K_L,ad_platform:"mp",ad_type:"interstitial",apply_result:0,apply_timestamp:parseFloat(this.D_N.toFixed(2)),ext:n},r.push(c),u={loc:t,apply_ad_list:r},[4,o.default.instance.S_I(u)];case 2:return i=s.sent(),a.default.consoleData("\u4e0a\u62a5\u7533\u8bf7\u63d2\u5c4f\u5e7f\u544a==============",JSON.stringify(u)+","+JSON.stringify(i)),[3,4];case 3:return l=s.sent(),a.default.consoleData("\u4e0a\u62a5\u7533\u8bf7\u63d2\u5c4f\u5e7f\u544a\u5f02\u5e38==============","",""+JSON.stringify(l)),[3,4];case 4:_=0<this.C_L-this.D_N?this.C_L-this.D_N:0,f=_,d={loc:t,ad_id:this.K_L,ad_type:"interstitial",result:e,stay_time:parseFloat(_.toFixed(2)),display_time:parseFloat(f.toFixed(2)),ext:n,server_eid:i&&i.server_eid?i.server_eid:""},a.default.consoleData("\u63d2\u5c4f\u4e0a\u62a5\u4f20\u5165\u53c2\u6570==================",""+JSON.stringify(d,null,"\t")),s.label=5;case 5:return s.trys.push([5,7,,8]),[4,o.default.instance.N_X(d)];case 6:return h=s.sent(),a.default.consoleData("\u63d2\u5c4f\u4e0a\u62a5\u4f20\u5165\u53c2\u6570\u4e8b\u4ef6\u4e0a\u62a5==========",""+JSON.stringify(h)),[3,8];case 7:return p=s.sent(),a.default.consoleData("\u63d2\u5c4f\u4e0a\u62a5\u4f20\u5165\u53c2\u6570\u4e8b\u4ef6\u4e0a\u62a5\u9519\u8bef","",JSON.stringify(p)),[3,8];case 8:return[2]}})})},t}();e.default=c},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(8),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=a.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.F_O=function(e){return i(this,void 0,void 0,function(){return s(this,function(){return o.default.Q_M(e.onShowPage),t.instance.P_X=e.onAuthorizeInfo,t.instance.F_T=e.onLoadProgress,t.instance.M_I(e).then(function(n){t.instance.Q_A(function(i){if(i){var s={launchOptions:n,userConf:t.D_D=i,archive:{}};e.success&&e.success(s)}})}).catch(function(t){e.fail&&e.fail(t)}),[2]})})},t.Y_Q=function(e,n,i,s,a,o,r){t.instance.Y_Q(e,n,i,s,a,o,r)},t.J_I=function(e){t.instance.J_I(e)},t.W_P=function(){t.instance.W_P()},Object.defineProperty(t,"N_K",{get:function(){return t.D_D},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Z_Q",{get:function(){return t.instance.B_U.U_M},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,r)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=a.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.E_K=function(e){if(t.instance.K_Z){var n=o.default.getStorage("archiveInfo");n&&"string"==typeof n&&(n=JSON.parse(n)),t.instance.K_Z.T_I({success:function(t){if(n&&(!t.version||n.version>t.version)){var i=parseInt(o.default.getStorage("last_update_timestamp"));t.version=n.version,t.ext=n.ext,t.last_update_timestamp=i}e.success&&e.success(t)},fail:function(t){e.fail&&e.fail(t)}})}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getUserArchive \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.V_P=function(e){if(t.instance.K_Z){o.default.removeStorage("archiveInfo");var n=JSON.stringify(e);o.default.saveStorage("archiveInfo",n),o.default.saveStorage("last_update_timestamp",(new Date).getTime()/1e3),e.force?(t.instance.K_Z.N_O(e),t.D_T=(new Date).getTime()/1e3,o.default.removeStorage("archiveInfo"),o.default.removeStorage("last_update_timestamp")):t.D_T?30<=(new Date).getTime()/1e3-t.D_T?(t.instance.K_Z.N_O(e),t.D_T=(new Date).getTime()/1e3,o.default.removeStorage("archiveInfo"),o.default.removeStorage("last_update_timestamp")):(o.default.consoleData("[/api/user/asset/update] \u5b58\u6863\u95f4\u9694\u5c11\u4e8e 30s\uff0c\u4e0d\u4e0a\u62a5================",""),e.fail&&e.fail({c:-9e5,m:"\u5b58\u6863\u95f4\u9694\u5c11\u4e8e 30s\uff0c\u4e0d\u4e0a\u62a5"})):(t.instance.K_Z.N_O(e),t.D_T=(new Date).getTime()/1e3,o.default.removeStorage("archiveInfo"),o.default.removeStorage("last_update_timestamp"))}else e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 updateUserArchive \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.getGameConfByNetwork=function(e){return i(this,void 0,void 0,function(){return s(this,function(){return t.instance.K_Z?t.instance.K_Z.M_S(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getGameConf \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"}),[2]})})},t.getWxUserInfo=function(e){t.instance.K_Z?t.instance.K_Z.J_X(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getWxUserInfo \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.getLuckyUsers=function(e){t.instance.K_Z?t.instance.K_Z.R_D(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getLuckyUsers \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.qualifiedLevel=function(e){t.instance.K_Z?t.instance.K_Z.W_G(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 qualifiedLevel \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.B_C=function(e){t.instance.K_Z?t.instance.K_Z.B_C(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 setUserPartialAsset \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.A_V=function(e){t.instance.K_Z?t.instance.K_Z.A_V(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getUserPartialAsset \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.S_S=function(e){t.instance.K_Z?t.instance.K_Z.S_S(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 userPartialAssetBatchAtomicInc \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.Y_F=function(e){t.instance.K_Z?t.instance.K_Z.S_S(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 userPartialAssetBatchAtomicInc \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.T_E=30,t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=i.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.K_R=function(e){t.instance.K_Z?t.instance.K_Z.L_A(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 updateRankInfo \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.I_Q=function(e){t.instance.K_Z?t.instance.K_Z.J_V(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getRankInfo \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.E_N=function(e){t.instance.K_Z?t.instance.K_Z.E_N(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 dailySignInfo \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.D_B=function(e){t.instance.K_Z?t.instance.K_Z.D_B(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 addDailySign \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i,s,a=n(1),o=n(0);(s=i||(i={}))[s.CLICK_RESULT_UNKNOWN=0]="CLICK_RESULT_UNKNOWN",s[s.CLICK_RESULT_CANCELED=1]="CLICK_RESULT_CANCELED",s[s.CLICK_RESULT_LAUNCHED=2]="CLICK_RESULT_LAUNCHED";var r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=a.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.E_F=function(e){t.instance.K_Z?t.instance.K_Z.E_D({success:function(n){t.P_N=n;for(var i=Object.keys(t.P_N),s={},a=0,o=i.length;a<o;a++){var r=i[a],c=t.P_N[r],u=!!c.shuffled,l=c.show_num,_=c.items,f=_.length;if(u)for(var d=void 0,h=void 0;f;)h=Math.floor(Math.random()*f--),d=_[f],_[f]=_[h],_[h]=d;if(0<l)for(;l<_.length;)_.pop();t.P_N[r].items=_,s[r]={},s[r].chn=t.P_N[r].chn,s[r].code=t.P_N[r].code,s[r].extra=t.P_N[r].extra,s[r].id=t.P_N[r].id,s[r].name=t.P_N[r].name,s[r].ui_type=t.P_N[r].ui_type,s[r].itemsLength=0<l?l:_.length}e.success&&e.success(s)},fail:function(t){e.fail&&e.fail(t)}}):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getRecommendList \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.V_O=function(e){t.instance.K_Z?t.P_N&&t.P_N[e.code]?t.L_E(e):t.instance.K_Z.Q_Z({code:e.code,success:function(n){if(!n||n=={}||!n[e.code]||Object.keys(n[e.code]).length<=0)e.success&&e.success({});else{var i=n[e.code],s=!!i.shuffled,a=i.items,o=a.length,r=i.show_num;if(s)for(var c=void 0,u=void 0;o;)u=Math.floor(Math.random()*o--),c=a[o],a[o]=a[u],a[u]=c;if(0<r)for(;r<a.length;)a.pop();n[e.code].items=a,t.P_N||(t.P_N={}),t.P_N[e.code]=n[e.code],t.L_E(e)}},fail:function(t){e.fail&&e.fail(t)}}):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 getRecommendListData \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.L_E=function(e){if(t.P_N[e.code]){for(var n=Object.keys(t.P_N),i={},s=[],a=[],o=[],r=0,c=n.length;r<c;r++)if(n[r]==e.code){i[e.code]={};var u=e.page?e.page:1,l=e.page_size?e.page_size:Math.floor(t.P_N[e.code].items.length/u),_=Math.ceil(t.P_N[e.code].items.length/l);if(u*l>t.P_N[e.code].items.length)return void(e.fail&&e.fail({c:1,m:"\u9009\u62e9\u63a8\u8350\u5e94\u7528\u6700\u5927\u4f4d\u6570\u4e3a: "+e.page*e.page_size+" \u8d85\u51fa\u603b\u6570: "+t.P_N[e.code].items.length}));for(var f=t.P_N[n[r]].items,d=(u-1)*l,h=d;h<d+l;h++)o.push(f[h]),s.push(f[h].raid),a.push(f[h].id);i[e.code].has_next=u<_,i[e.code].has_prev=1<u,i[e.code].items=o,e.success&&e.success(i),t.instance.K_Z.Y_S({code:e.code,raids:s,list_item_ids:a,success:function(){},fail:function(){}});break}}else e.fail&&e.fail({c:1,m:"\u4e0d\u5b58\u5728\u63a8\u8350\u4f4d"+e.code})},t.X_X=function(e){t.instance.K_Z?t.P_N&&t.P_N[e.code]?t.I_Y(e):t.instance.K_Z.Q_Z({code:e.code,success:function(n){if(!n||n=={}||!n[e.code]||Object.keys(n[e.code]).length<=0)e.fail&&e.fail(4);else{var i=n[e.code],s=!!i.shuffled,a=i.items,o=a.length,r=i.show_num;if(s)for(var c=void 0,u=void 0;o;)u=Math.floor(Math.random()*o--),c=a[o],a[o]=a[u],a[u]=c;if(0<r)for(;r<a.length;)a.pop();n[e.code].items=a,t.P_N||(t.P_N={}),t.P_N[e.code]=n[e.code],t.I_Y(e)}},fail:function(){}}):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 navigateToMiniProgram \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t.I_Y=function(e){if(t.instance.K_Z){for(var n,s=t.P_N[e.code],a=s.show_num?s.show_num:s.items.length,r=0;r<a;r++)if(s.items[r].id==e.id){n=s.items[r];break}if(n){var c={target_chn:n.ext_id,appid:n.appid,path:n.path,extra_data:n.extra_data,attach:e.attach?e.attach:{},env_version:n.env_version,launch_type:"nav",list_code:e.code,raid:n.raid,list_item_id:n.id,require_stay_time:n.require_stay_time,platform:n.platform,action_type:n.action_type?n.action_type:"",jumper_appid:n.jumper_appid?n.jumper_appid:"",jumper_chn:n.jumper_chn?n.jumper_chn:"",jumper_env_version:n.jumper_env_version?n.jumper_env_version:"",jumper_extra_data:n.jumper_extra_data?n.jumper_extra_data:{}};t.instance.K_Z.C_B(c).then(function(s){wx.navigateToMiniProgram({appId:s.launch_params.appid,path:s.launch_params.path,extraData:s.launch_params.extra_data,envVersion:s.launch_params.env_version,success:function(){o.default.saveStorage("ticketInfo",{tid:s.tid,timeStamp:(new Date).getTime()}),e.success&&e.success(0),t.instance.K_Z.T_R({code:e.code,raid:n.raid,list_item_id:n.id,launch_type:"nav",result:i.CLICK_RESULT_LAUNCHED,require_stay_time:n.require_stay_time,tid:s.tid,platform:n.platform,success:function(){},fail:function(){}})},fail:function(a){var r,u;o.default.removeStorage("ticketInfo"),a.errMsg&&(r=!(a.errMsg.indexOf("cancel")<0),u=!(a.errMsg.indexOf("is not in navigateToMiniProgramAppIdList")<0)),!r&&n.qrcode&&""!=n.qrcode?(c.launch_type="qrcode",t.instance.K_Z.C_B(c).then(function(s){wx.previewImage({urls:[n.qrcode],success:function(){e.success&&e.success(1),t.instance.K_Z.T_R({code:e.code,raid:n.raid,list_item_id:n.id,launch_type:"qrcode",result:i.CLICK_RESULT_UNKNOWN,require_stay_time:n.require_stay_time,tid:s.tid,platform:n.platform,success:function(){},fail:function(){}})},fail:function(){u?e.fail&&e.fail(2):e.fail&&e.fail(3)}})}).catch(function(){})):(t.instance.K_Z.T_R({code:e.code,raid:n.raid,list_item_id:n.id,launch_type:"nav",result:i.CLICK_RESULT_CANCELED,require_stay_time:n.require_stay_time,tid:s.tid,platform:n.platform,success:function(){},fail:function(){}}),n.qrcode&&""!=n.qrcode?wx.previewImage({urls:[n.qrcode],success:function(){e.success&&e.success(1)},fail:function(){r?e.fail&&e.fail(1):u?e.fail&&e.fail(2):e.fail&&e.fail(3)}}):r?e.fail&&e.fail(1):u?e.fail&&e.fail(2):e.fail&&e.fail(3))}})}).catch(function(){})}}else e.fail&&e.fail(3)},t.T_R=function(e){t.instance.K_Z?t.instance.K_Z.T_R(e):e.fail&&e.fail({c:10013,m:"\u975e\u6cd5\u8c03\u7528\uff01\u8bf7\u786e\u8ba4 reportAppClick \u5728\u521d\u59cb\u5316\u56de\u8c03\u4e4b\u540e\u8c03\u7528\uff01"})},t}();e.default=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.LOC_STATUS={CLOSE:0,SHARE:1,VIDEO_AD:2,BOTH:3,SHARE_EXCEED_LIMIT:4,VIDEO_AD_CLOSE_BEFORE_FINISH:5},t.PAYSTATUS={INIT:"INIT",PENDING:"PENDING",SUCCESS:"SUCCESS",FAIL:"FAIL",EXPIRED:"EXPIRED",REFUND:"REFUND"},t.FAKE_CALLBACK={FAIL:0,SUCCESS:1,EXCEED_LIMIT:2},t.VIDEO_STATUS={FAIL:0,SUCCESS:1,CLOSE_BEFORE_FINISH:2},t.SHARE_STATUS={FAIL:0,SHARE_FIRST_GROUP:1,SHARE_PERSONAL:2,SHARE_SAME_GROUP:3},t.NAVIGATE_TO_PROGRAM_SUCCESS={TO_PROGRAM:0,TO_QRCODE:1},t.NAVIGATE_TO_PROGRAM_FAIL={CANCEL:1,NO_APPID:2,OTHER:3},t.LOAD_ERROR_CODE={SUCCESS:0,NO_RESOURCE:1,NETWORK_ERROR:2,TIME_OUT:3,SKIPPED:4,OTHER:5},t.COMMON_CODE={SUCCESS:1,FAIL:0},t}();e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=n(0),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.P_Y||(t.P_Y=i.default.instance),t.P_Y},enumerable:!0,configurable:!0}),t.O_J=function(e){t.instance.K_Z.O_J(e)},t.I_P=function(e){var n=(new Date).getTime();t.C_J&&n-t.C_J<=3e3||(t.C_J=n,t.Z_N=function(){wx.requestSubscribeMessage({tmplIds:e.tmplIds,success:function(n){for(var i=0;i<e.tmplIds.length;i++)if("accept"==n[e.tmplIds[i]])return e.success&&e.success({c:1,m:"accept"}),t.instance.K_Z.J_J({loc:e.loc,template_id:e.tmplIds[i],result:2}),void wx.offTouchEnd(t.Z_N);var s;e.fail&&e.fail({c:0,m:n[e.tmplIds[0]]}),s="ban"==n[e.tmplIds[0]]?3:"reject"==n[e.tmplIds[0]]?1:0,t.instance.K_Z.J_J({loc:e.loc,template_id:e.tmplIds[0],result:s}),wx.offTouchEnd(t.Z_N)},fail:function(n){e.fail&&e.fail(n),t.instance.K_Z.J_J({loc:e.loc,template_id:e.tmplIds[0],result:0}),wx.offTouchEnd(t.Z_N)}})},wx.onTouchEnd(t.Z_N))},t.S_O=function(e){var n=e.tmplId,i=[n],a={loc:e.loc,template_id:e.tmplId};e.notifyTime&&(a.send_time=e.notifyTime),e.templateParams&&(a.template_params=e.templateParams),e.payload&&(a.payload=e.payload),s.default.consoleData("tmplIds\uff1a"+i),wx.requestSubscribeMessage({tmplIds:i,success:function(i){s.default.consoleData("\u8ba2\u9605\u7ed3\u679c\uff1a"+i),"accept"==i[n]?(e.success&&e.success(i),a.result=2):"ban"==i[n]?(e.fail&&e.fail(i),a.result=3):"reject"==i[n]?(e.fail&&e.fail(i),a.result=1):(e.fail&&e.fail(i),a.result=0),t.instance.K_Z.J_J({data:a})},fail:function(n){e.fail&&e.fail(n),a.result=0,t.instance.K_Z.J_J({data:a})}})},t.C_J=0,t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=n(0),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=i.default.instance),t._instance},enumerable:!0,configurable:!0}),t.O_I=function(e){t.I_A=wx.getGameRecorder(),t.G_F||(t.I_A.on("start",function(){s.default.consoleData("\u5f55\u5c4f\u5f00\u59cb======",""+(new Date).getTime()/1e3),e.onStart&&e.onStart({c:0,m:"\u5f00\u59cb\u5f55\u5c4f"})}),t.I_A.on("error",function(t){s.default.consoleData("\u5f55\u5c4f\u5f02\u5e38=============","",t),e.fail&&e.fail(t)}),t.I_A.on("stop",function(t){s.default.consoleData("\u7ed3\u675f\u5f55\u5c4f,\u89c6\u9891\u65f6\u957f\uff1a",""+t.duration),e.success&&e.success(t)}),t.G_F=!0),t.I_A.start({duration:e.duration})},t.J_L=function(){t.I_A.stop()},t.Q_D=function(){t.I_A.pause()},t.N_C=function(){t.I_A.resume()},t.G_F=!1,t}();e.default=a}])});